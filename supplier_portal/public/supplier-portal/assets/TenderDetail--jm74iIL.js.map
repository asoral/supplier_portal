{"version":3,"file":"TenderDetail--jm74iIL.js","sources":["../../../../supplier-portal/node_modules/lucide-vue-next/dist/esm/icons/arrow-left.js","../../../../supplier-portal/node_modules/lucide-vue-next/dist/esm/icons/badge-check.js","../../../../supplier-portal/node_modules/lucide-vue-next/dist/esm/icons/banknote.js","../../../../supplier-portal/node_modules/lucide-vue-next/dist/esm/icons/hourglass.js","../../../../supplier-portal/node_modules/lucide-vue-next/dist/esm/icons/share-2.js","../../../../supplier-portal/node_modules/lucide-vue-next/dist/esm/icons/trending-down.js","../../../../supplier-portal/src/pages/TenderDetail.vue"],"sourcesContent":["/**\n * @license lucide-vue-next v0.545.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ArrowLeft = createLucideIcon(\"arrow-left\", [\n  [\"path\", { d: \"m12 19-7-7 7-7\", key: \"1l729n\" }],\n  [\"path\", { d: \"M19 12H5\", key: \"x3x0zl\" }]\n]);\n\nexport { ArrowLeft as default };\n//# sourceMappingURL=arrow-left.js.map\n","/**\n * @license lucide-vue-next v0.545.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst BadgeCheck = createLucideIcon(\"badge-check\", [\n  [\n    \"path\",\n    {\n      d: \"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z\",\n      key: \"3c2336\"\n    }\n  ],\n  [\"path\", { d: \"m9 12 2 2 4-4\", key: \"dzmm74\" }]\n]);\n\nexport { BadgeCheck as default };\n//# sourceMappingURL=badge-check.js.map\n","/**\n * @license lucide-vue-next v0.545.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Banknote = createLucideIcon(\"banknote\", [\n  [\"rect\", { width: \"20\", height: \"12\", x: \"2\", y: \"6\", rx: \"2\", key: \"9lu3g6\" }],\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"2\", key: \"1c9p78\" }],\n  [\"path\", { d: \"M6 12h.01M18 12h.01\", key: \"113zkx\" }]\n]);\n\nexport { Banknote as default };\n//# sourceMappingURL=banknote.js.map\n","/**\n * @license lucide-vue-next v0.545.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Hourglass = createLucideIcon(\"hourglass\", [\n  [\"path\", { d: \"M5 22h14\", key: \"ehvnwv\" }],\n  [\"path\", { d: \"M5 2h14\", key: \"pdyrp9\" }],\n  [\n    \"path\",\n    {\n      d: \"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22\",\n      key: \"1d314k\"\n    }\n  ],\n  [\n    \"path\",\n    { d: \"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2\", key: \"1vvvr6\" }\n  ]\n]);\n\nexport { Hourglass as default };\n//# sourceMappingURL=hourglass.js.map\n","/**\n * @license lucide-vue-next v0.545.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Share2 = createLucideIcon(\"share-2\", [\n  [\"circle\", { cx: \"18\", cy: \"5\", r: \"3\", key: \"gq8acd\" }],\n  [\"circle\", { cx: \"6\", cy: \"12\", r: \"3\", key: \"w7nqdw\" }],\n  [\"circle\", { cx: \"18\", cy: \"19\", r: \"3\", key: \"1xt0gg\" }],\n  [\"line\", { x1: \"8.59\", x2: \"15.42\", y1: \"13.51\", y2: \"17.49\", key: \"47mynk\" }],\n  [\"line\", { x1: \"15.41\", x2: \"8.59\", y1: \"6.51\", y2: \"10.49\", key: \"1n3mei\" }]\n]);\n\nexport { Share2 as default };\n//# sourceMappingURL=share-2.js.map\n","/**\n * @license lucide-vue-next v0.545.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst TrendingDown = createLucideIcon(\"trending-down\", [\n  [\"path\", { d: \"M16 17h6v-6\", key: \"t6n2it\" }],\n  [\"path\", { d: \"m22 17-8.5-8.5-5 5L2 7\", key: \"x473p\" }]\n]);\n\nexport { TrendingDown as default };\n//# sourceMappingURL=trending-down.js.map\n","<script setup>\nimport { ref, onMounted, computed , watch} from 'vue'\nimport { useRoute, useRouter } from 'vue-router'\nimport { \n  ArrowLeft, BadgeCheck, Clock, Download, Share2, Printer, \n  AlertCircle, DollarSign, Calendar, MapPin, Building2, UserCircle, FileText,\n  TrendingDown, Banknote, Hourglass, Bookmark, ArrowRight, Zap ,MessageSquare\n} from 'lucide-vue-next'\nimport { createToast } from 'mosha-vue-toastify'\nimport { useAuthStore } from '../stores/auth'\n\nconst route = useRoute()\nconst router = useRouter()\nconst isLoading = ref(true)\nconst isSaved = ref(false)\nconst savedTendersList = ref([])\nconst isSessionExpired = ref(false)\n\nconst showSupportModal = ref(false);\nconst tenderDetails = ref({\n  custom_contact_person_display: '',\n  custom_contact_address_display: ''\n});\n\nconst refetchSession = async () => {\n   // Try to bounce the session\n   isLoading.value = true;\n   isSessionExpired.value = false;\n   await authStore.logout(false); // Clean logout\n   router.push('/login?redirect=' + route.fullPath);\n}\n\n// --- ADDED: Logic to check database on page load ---\nconst authStore = useAuthStore()\nconst { secureFetch } = authStore\n\n// --- ADDED: Logic to check database on page load ---\nconst checkSavedStatus = async () => {\n  // Only check if logged in\n  if (!authStore.isAuthenticated) return;\n\n  try {\n    const response = await secureFetch('/api/method/supplier_portal.api.get_saved_tenders')\n    const result = await response.json()\n    const savedData = result.message || []\n    \n    // Find if this tender is in the list\n    const existing = savedData.find(t => t.id === route.params.id)\n    if (existing) {\n      isSaved.value = true\n      // Store the doc name (saved_id) so we can delete it later\n      if (tender.value) tender.value.saved_record_name = existing.saved_id\n    }\n  } catch (error) {\n    console.error(\"Error checking saved status:\", error)\n  }\n}\n\nconst handleShare = async () => {\n  if (navigator.share) {\n    try {\n      await navigator.share({\n        title: selectedContract.value?.title || 'TenderFlow Document',\n        text: `Check out this tender: ${selectedContract.value?.id}`,\n        url: window.location.href, // Shares the current browser URL\n      });\n      console.log('Successfully shared');\n    } catch (error) {\n      console.error('Error sharing:', error);\n    }\n  } else {\n    // Fallback: Copy link to clipboard if Share API is not supported (e.g., non-secure origins or old browsers)\n    try {\n      await navigator.clipboard.writeText(window.location.href);\n      alert('Link copied to clipboard!');\n    } catch (err) {\n      console.error('Failed to copy link:', err);\n    }\n  }\n};\n\nconst handlePrint = () => {\n  window.print();\n};\n\nconst similarTenders = ref([])\n\nconst fetchSimilarTenders = async (category, currentId) => {\n  try {\n    const url = '/api/method/supplier_portal.api.get_similar_tenders?' + new URLSearchParams({\n        category: category,\n        exclude_id: currentId\n    });\n    \n    const response = await secureFetch(url);\n    const result = await response.json();\n    \n    if (result.message) {\n      similarTenders.value = result.message.map(t => ({\n        id: t.id,\n        title: t.title, \n        budget: parseFloat(t.budget) || 0,\n        deadline: t.deadline ? new Date(t.deadline).toLocaleDateString('en-IN', { \n            day: '2-digit', \n            month: 'short', \n            year: 'numeric' \n        }) : 'N/A'\n      }));\n    }\n  } catch (error) {\n    console.error(\"Error fetching similar tenders:\", error);\n  }\n}\n\nconst navigateToTender = (tenderId) => {\n  // Push the new ID to the router\n  router.push(`/tenders/${tenderId}`).then(() => {\n    // Force a scroll to the top so the user sees the new tender from the start\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n    \n    // Explicitly call your fetch function again because \n    // onMounted only runs once per component lifecycle\n    fetchTenderDetails(); \n  });\n}\n\nconst handleSave = async () => {\n  if (!tender.value) return \n\n  // Double check auth just in case\n  if (!authStore.isAuthenticated) {\n      createToast('Please login to save tenders', { type: 'warning' })\n      return\n  }\n\n  // If already blue, we Unsave (Delete)\n  if (isSaved.value) {\n    try {\n      const response = await secureFetch('/api/method/supplier_portal.api.delete_saved_tender', {\n        method: 'POST',\n        body: JSON.stringify({\n          saved_id: tender.value.saved_record_name\n        })\n      })\n      const result = await response.json()\n      \n      if (response.ok && result.message?.status === 'success') {\n        isSaved.value = false\n        createToast('Removed from saved list', { type: 'info' })\n      } else {\n        console.error('Delete failed:', result)\n        createToast('Failed to remove tender', { type: 'danger' })\n      }\n    } catch (error) {\n      console.error('Delete error:', error)\n    }\n    return\n  }\n\n  // If not blue, we Save (Insert)\n  try {\n    const response = await secureFetch('/api/method/supplier_portal.api.save_tender', {\n      method: 'POST',\n      body: JSON.stringify({\n        rfq_id: tender.value.id\n      })\n    })\n\n    const result = await response.json()\n\n    if (response.ok) {\n        const msg = result.message;\n        \n        // Handle explicit error returned as JSON (e.g. from Guest save attempt)\n        if (msg && msg.status === 'error') {\n             createToast(msg.message || 'Error saving tender', { type: 'danger' })\n             return\n        }\n\n        // Handle \"Already saved\" or \"Success\"\n        if (msg && (msg.status === 'success' || msg.status === 'skipped')) {\n             isSaved.value = true\n             if (msg.name) {\n                 tender.value.saved_record_name = msg.name\n             } else {\n                 await checkSavedStatus() \n             }\n             createToast(msg.message || 'Tender saved successfully', { type: 'success' })\n        } else {\n             // Fallback for unexpected success structure\n             createToast('Tender saved', { type: 'success' })\n        }\n    } else {\n        console.error('Save failed:', result)\n        createToast(result.message || 'Failed to save tender', { type: 'danger' })\n    }\n  } catch (error) {\n    console.error('Save error:', error)\n  }\n}\n\nconst goToQueries = () => {\n  router.push('/queries') \n}\n\nconst tender = ref(null)\n\nconst fetchTenderDetails = async () => {\n  isLoading.value = true\n  try {\n    const response = await authStore.secureFetch('/api/method/supplier_portal.api.get_tender_details?' + new URLSearchParams({\n        name: route.params.id\n    }))\n    \n    if (!response.ok && (response.status === 403 || response.status === 401)) {\n       isSessionExpired.value = true;\n       throw new Error(\"Session Expired\");\n    }\n\n    const result = await response.json()\n    const data = result.message\n\n    if (!data) throw new Error(\"No data returned\")\n\n    tenderDetails.value = {\n      custom_contact_person_display: data.custom_contact_person_display,\n      custom_contact_address_display: data.custom_contact_address_display\n    }\n\n    tender.value = {\n      id: data.name,\n      title: data.title,\n      publishedDate: data.publish_date ? new Date(data.publish_date).toLocaleDateString('en-IN', { day: '2-digit', month: 'short', year: 'numeric' }) : 'N/A',\n      location: data.billing_address ? data.billing_address.replace(/<br\\s*\\/?>/gi, ', ') : 'N/A',\n      category: data.category,\n      status: data.status,\n      liveBidding: data.enable_live_bidding,\n      description: data.description ,\n      contactPerson: data.custom_contact_person_display,\n      contactAddress: data.custom_contact_address_display,\n      UOM:data.uom,\n      quantity: data.total_quantity?.toLocaleString('en-IN') || 0,      \n      bidsReceived: data.bidsReceived || 0,\n      estBudget: data.total_budget ,\n      deadline: data.submission_date ,\n      department: data.department ,\n      currentLowestBid: parseFloat(data.custom_total_budget_ || data.total_budget) || 0,\n      minBidDecrement: data.min_bid_decrement ,\n      emdRequired: data.emd_amount ,\n      termsData: data.terms || 'No terms and conditions provided.',\n      autoExtension: data.auto_extension_limit ? data.auto_extension_limit + ' mins' : '0 mins',\n      deliveryDate: data.schedule_date,\n      items: data.items || [],\n      documents: (data.documents || []).map(d => ({\n          name: d.file_name,\n          url: d.file_url,\n          size: d.file_size + ' bytes'\n      })),\n      timeline: [\n        { stage: 'Published', date: data.publish_date, completed: !!data.publish_date },\n        { stage: 'Bid Submission Starts', date: data.submission_start_date, completed: new Date() > new Date(data.submission_start_date) },\n        { stage: 'Submission Ends', date: data.submission_date, completed: new Date() > new Date(data.submission_date) },\n        { stage: 'Result Declaration', date: data.result_date, completed: false },\n        { stage: 'Delivery Expected', date: data.schedule_date, completed: false }\n      ].filter(t => t.date),\n      similarTenders: []\n    }\n    if (data.category) {\n            await fetchSimilarTenders(data.category, data.name)\n        }\n  } catch (error) {\n    console.error(\"Failed to fetch tender details:\", error)\n  } finally {\n    isLoading.value = false\n  }\n}\n\nconst openSupportModal = () => {\n  showSupportModal.value = true;\n}\n\nconst activeTab = ref('Overview')\nconst tabs = ['Overview', 'Specifications', 'Documents', 'Timeline']\nconst bidAmount = ref()\nconst recentBids = ref([]);\nconst portalSettings = ref({ quick_bid_percent: 0 });\nconst currentSupplier = ref('');\n\n\nconst quickBid = (amount) => {\n   if (tender.value && tender.value.currentLowestBid) {\n      bidAmount.value = tender.value.currentLowestBid - amount\n   }\n}\n\nconst totalBidsReceived = ref(0);\n\nconst fetchBidCount = async (rfqId) => {\n  try {\n    const response = await secureFetch(`/api/method/supplier_portal.api.get_tender_summary_stats?rfq_id=${rfqId}`);\n    const result = await response.json();\n    \n    // Check if result.message is an object and extract total_bids\n    if (result.message && typeof result.message === 'object') {\n      totalBidsReceived.value = result.message.total_bids || 0;\n    } else if (result.message !== undefined) {\n      // Fallback if the API returns a direct number\n      totalBidsReceived.value = result.message;\n    }\n  } catch (e) {\n    console.error(\"Error fetching bid count:\", e);\n    totalBidsReceived.value = 0;\n  }\n};\n\nconst formattedBudget = computed(() => {\n   if (!tender.value) return '₹0'\n   return new Intl.NumberFormat('en-IN', { style: 'currency', currency: 'INR', maximumFractionDigits: 0 }).format(tender.value.estBudget)\n})\nconst fetchSettings = async () => {\n    try {\n        const response = await fetch('/api/method/supplier_portal.api.get_portal_settings');\n        const result = await response.json();\n        // Frappe result is always in result.message\n        if (result.message) {\n            portalSettings.value = result.message;\n        }\n    } catch (e) {\n        console.error(\"Failed to fetch settings\", e);\n    }\n};\n\nconst formattedLowestBid = computed(() => {\n  if (recentBids.value && recentBids.value.length > 0) {\n    const minBid = Math.min(...recentBids.value.map(bid => bid.total || 0));\n    return new Intl.NumberFormat('en-IN', { \n      style: 'currency', currency: 'INR', maximumFractionDigits: 0 \n    }).format(minBid);\n  }\n  return new Intl.NumberFormat('en-IN', { \n    style: 'currency', currency: 'INR', maximumFractionDigits: 0 \n  }).format(tender.value?.currentLowestBid || 0);\n});\n\nconst fetchRecentBids = async (tId) => {\n  if (!tId) return; // Prevent calling with undefined ID\n  \n  try {\n    // Ensure you use secureFetch to pass the session cookie/headers\n    const response = await secureFetch(`/api/method/supplier_portal.api.get_recent_bid_activity?rfq_id=${tId}`);\n    const result = await response.json();\n    \n    // 1. Frappe always wraps the return in 'message'\n    const data = result.message;\n\n    // 2. Check if data exists and bids is an array (even if empty)\n    if (data && Array.isArray(data.bids)) {\n      \n      // 3. Map the bids to your local state\n      recentBids.value = data.bids.map(bid => ({\n        supplier: bid.supplier,\n        // Use the 'total' field mapped in your Python: \"grand_total as total\"\n        total: parseFloat(bid.total) || 0,\n        // Ensure formatBidTime handles the 'creation' string correctly\n        time: formatBidTime(bid.creation) \n      }));\n\n      // 4. CRITICAL: Store the current supplier ID for your HTML masking logic\n      // Without this, {{ bid.supplier === currentSupplier }} will always be false\n      currentSupplier.value = data.current_supplier || '';\n\n      console.log(\"Bids updated:\", recentBids.value);\n      console.log(\"Current Supplier Identity:\", currentSupplier.value);\n\n    } else {\n      console.warn(\"No bids data found in response:\", result);\n      recentBids.value = [];\n    }\n  } catch (error) {\n    console.error(\"Fetch error in fetchRecentBids:\", error);\n    recentBids.value = [];\n  }\n};\n\nconst formatBidTime = (dateStr) => {\n  const diffInMinutes = Math.floor((new Date() - new Date(dateStr)) / 60000);\n  if (diffInMinutes < 1) return 'now';\n  if (diffInMinutes < 60) return `${diffInMinutes}m ago`;\n  return `${Math.floor(diffInMinutes / 60)}h ago`;\n}\n\n\nconst placeBid = async () => {\n  if (!tender.value?.liveBidding) {\n    createToast('Bidding is not currently active for this tender', { type: 'danger' });\n    return;\n  }\n  \n  if (!bidAmount.value || bidAmount.value <= 0) {\n    createToast('Please enter a valid bid amount', { type: 'warning' });\n    return;\n  }\n\n  // --- NEW: Min Bid Decrement Validation ---\n  // 1. Determine current L1 from recent activity or initial budget\n  const currentL1 = recentBids.value.length > 0 \n  ? Math.min(...recentBids.value.map(b => b.total)) \n  : (tender.value?.currentLowestBid || 0);\n\n// Ensure this field exists in your 'tender' object\nconst minDecrement = tender.value?.minBidDecrement || 0;\nconst maxAllowedBid = currentL1 - minDecrement;\n\nconsole.log(\"Current L1:\", currentL1, \"Min Decrement:\", minDecrement, \"Max Allowed:\", maxAllowedBid);\n\nif (bidAmount.value > maxAllowedBid) {\n    createToast(\n      `Invalid Bid: You must bid ₹${maxAllowedBid.toLocaleString()} or lower (Min drop of ₹${minDecrement.toLocaleString()} required).`, \n      { \n        type: 'danger', \n        timeout: 5000,\n        showIcon: true \n      }\n    );\n    return; // This stops the code from reaching the API call\n  }\n\n  try {\n    isLoading.value = true;\n    \n    const response = await secureFetch('/api/method/supplier_portal.api.place_supplier_bid', {\n      method: 'POST',\n      body: JSON.stringify({\n        rfq_id: tender.value.id,\n        amount: bidAmount.value\n      })\n    });\n\n    const result = await response.json();\n\n    // Matching the backend return: {\"status\": \"success\", \"message\": \"...\"}\n    if (result.message && result.message.status === 'success') {\n      createToast(`Bid of ₹${Number(bidAmount.value).toLocaleString('en-IN')} placed!`, { type: 'success' });\n      \n      // TRIGGER REFRESH: This makes the new bid appear in the list immediately\n      await fetchRecentBids(tender.value.id); \n      await fetchTenderDetails(tender.value.id);\n      await fetchBidCount(tender.value.id);\n      \n      bidAmount.value = null; \n    } else {\n      // Backend error handling\n      const errorMsg = result.message?.message || 'Failed to place bid';\n      createToast(errorMsg, { type: 'danger' });\n    }\n  } catch (error) {\n    console.error(\"Bid submission error:\", error);\n    createToast('An error occurred while placing the bid', { type: 'danger' });\n  } finally {\n    isLoading.value = false;\n  }\n}\n\nconst currentL1Value = computed(() => {\n  // 1. If bids exist, use the lowest one\n  if (recentBids.value.length > 0) {\n    return Math.min(...recentBids.value.map(b => b.total));\n  }\n  \n  // 2. IF NO BIDS, use the Budget as the benchmark\n  // This prevents the \"0\" you see in the console\n  return tender.value?.estBudget || 0; \n});\n\nconst maxAllowedPrice = computed(() => {\n  const benchmark = currentL1Value.value; // Use the computed property above\n  const minDecrement = tender.value?.minBidDecrement || 0;\n\n  if (recentBids.value.length === 0) {\n    return benchmark > 0 ? benchmark : 999999999;\n  }\n  return benchmark - minDecrement;\n});\n\nconst budgetSavings = computed(() => {\n  const budget = tender.value?.total_budget || 0;\n  const currentL1 = recentBids.value.length > 0 \n    ? Math.min(...recentBids.value.map(b => b.total)) \n    : (tender.value?.currentLowestBid || 0);\n\n  // If budget is 0, just show ₹0 savings or hide it\n  if (budget <= 0) return 0;\n\n  return budget - currentL1;\n});\n\nconst quickBidAmount = computed(() => {\n  const benchmark = recentBids.value.length > 0 \n    ? Math.min(...recentBids.value.map(b => b.total)) \n    : (tender.value?.estBudget || 0);\n  \n  if (benchmark <= 0) return 0;\n\n  let percent = portalSettings.value.live_bidding_quick_entry_percent || 0;\n  if (percent > 100) percent = percent / 1000; \n\n  const percentageDrop = benchmark * (percent / 100);\n\n  // For the first bid, just suggest the Budget minus the percentage drop\n  if (recentBids.value.length === 0) {\n    return Math.floor(benchmark - percentageDrop);\n  }\n\n  // For competitive bidding, use the larger of percentage or min decrement\n  const minDecrement = tender.value?.minBidDecrement || 0;\n  const actualDrop = Math.max(percentageDrop, minDecrement);\n  \n  const nextBid = benchmark - actualDrop;\n  return nextBid > 0 ? Math.floor(nextBid) : 0;\n});\n\n\nconst refreshAllData = async (id) => {\n   if (!id) return;\n   isLoading.value = true;\n   recentBids.value = []; \n  \n  try {\n    await Promise.all([\n      fetchTenderDetails(id),\n      checkSavedStatus(id),\n      fetchRecentBids(id),\n      fetchSettings(),\n      fetchBidCount(id),\n    ]);\n  } catch (error) {\n    console.error(\"Error refreshing data:\", error);\n  } finally {\n    isLoading.value = false;\n  }\n};\n\nconst mainBoqUrl = computed(() => {\n   if (!tender.value || !tender.value.items) return null;\n      const itemWithBoq = tender.value.items.find(i => i.attach_boq);\n   \n   return itemWithBoq ? itemWithBoq.attach_boq : null;\n});\n\nwatch(() => route.params.id, (newId) => {\n  if (newId) {\n   //  fetchTenderDetails(newId); \n   //  checkSavedStatus(newId);\n    refreshAllData(newId);\n    window.scrollTo({ top: 0, behavior: 'smooth' }); \n  }\n}); \n\nonMounted(async () => {\n  if (route.params.id) {\n   //  await fetchTenderDetails(route.params.id)\n   //  await checkSavedStatus(route.params.id)\n   //  await fetchRecentBids(route.params.id)\n   //  await fetchSettings();\n    await refreshAllData(route.params.id);\n  }\n})\n\n</script>\n\n<template>\n  <div class=\"min-h-screen bg-gray-50 pb-12\">\n    <!-- Loading State -->\n    <div v-if=\"isLoading\" class=\"flex items-center justify-center min-h-[60vh]\">\n        <div class=\"flex flex-col items-center gap-4\">\n            <div class=\"animate-spin rounded-full h-10 w-10 border-b-2 border-indigo-600\"></div>\n            <p class=\"text-gray-500 text-sm font-medium\">Loading tender details...</p>\n        </div>\n    </div>\n\n    <div v-else-if=\"isSessionExpired\" class=\"flex flex-col items-center justify-center min-h-[60vh] text-center px-4\">\n        <UserCircle class=\"w-12 h-12 text-orange-500 mb-4\" />\n        <h3 class=\"text-lg font-bold text-gray-900\">Session Expired</h3>\n        <p class=\"text-gray-500 mt-2 max-w-md\">Your secure session has timed out properly. Please save your work (if any) and reconnect.</p>\n        <button @click=\"refetchSession\" class=\"mt-6 px-6 py-2.5 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700 transition shadow-sm\">\n           Reconnect Session\n        </button>\n    </div>\n\n    <div v-else-if=\"!tender\" class=\"flex flex-col items-center justify-center min-h-[60vh] text-center px-4\">\n        <AlertCircle class=\"w-12 h-12 text-red-500 mb-4\" />\n        <h3 class=\"text-lg font-bold text-gray-900\">Tender Not Found</h3>\n        <p class=\"text-gray-500 mt-2 max-w-md\">The tender you are looking for does not exist or you do not have permission to view it.</p>\n        <button @click=\"router.push('/tenders')\" class=\"mt-6 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition\">Back to Tenders</button>\n    </div>\n\n    <!-- Main Content -->\n    <div v-else>\n     <!-- Header/Breadcrumb -->\n     <div class=\"bg-white border-b border-gray-200\">\n  <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4\">\n    <button @click=\"router.back()\" class=\"flex items-center text-sm text-gray-500 hover:text-gray-900 mb-4 transition-colors\">\n      <ArrowLeft class=\"w-4 h-4 mr-1\" /> Back to Tenders\n    </button>\n    \n    <div class=\"flex flex-col md:flex-row md:items-start justify-between gap-4\">\n      <div>\n        <div class=\"flex flex-wrap gap-2 mb-3\">\n          <span class=\"inline-flex items-center rounded-md bg-gray-100 px-2.5 py-0.5 text-xs font-medium text-gray-600\">\n            {{ tender.category }}\n          </span>\n          <span class=\"inline-flex items-center rounded-md bg-indigo-50 px-2.5 py-0.5 text-xs font-medium text-indigo-700 border border-indigo-100\">\n            {{ tender.status }}\n          </span>\n          <span v-if=\"tender.liveBidding\" class=\"inline-flex items-center rounded-md bg-orange-50 px-2.5 py-0.5 text-xs font-medium text-orange-700 border border-orange-100\">\n            <span class=\"relative flex h-2 w-2 mr-1.5\">\n              <span class=\"animate-ping absolute inline-flex h-full w-full rounded-full bg-orange-400 opacity-75\"></span>\n              <span class=\"relative inline-flex rounded-full h-2 w-2 bg-orange-500\"></span>\n            </span>\n            Live Bidding\n          </span>\n        </div>\n        <h1 class=\"text-2xl font-bold text-gray-900 mb-2\">{{ tender.title }}</h1>\n        <div class=\"flex flex-wrap items-center gap-4 text-xs text-gray-500\">\n          <span class=\"flex items-center gap-1\"><BadgeCheck class=\"w-3.5 h-3.5\" /> {{ tender.id }}</span>\n          <span class=\"flex items-center gap-1\"><Calendar class=\"w-3.5 h-3.5\" /> Published: {{ tender.publishedDate }}</span>\n          <span class=\"flex items-center gap-1\"><MapPin class=\"w-3.5 h-3.5\" /> {{ tender.location }}</span>\n        </div>\n      </div>\n      \n      <div class=\"flex gap-2\">\n        <button \n          v-if=\"authStore.isAuthenticated\"\n          @click=\"handleSave\"\n          class=\"flex items-center gap-1.5 px-3 py-2 rounded-md border transition-all duration-200\"\n          :class=\"isSaved \n            ? 'text-indigo-600 bg-indigo-50 border-indigo-200 shadow-sm' \n            : 'text-slate-500 bg-white border-gray-200 hover:text-indigo-600 hover:border-indigo-100 hover:bg-gray-50'\"\n        >\n          <Bookmark \n            class=\"w-5 h-5 transition-transform duration-200 active:scale-90\" \n            :fill=\"isSaved ? 'currentColor' : 'none'\" \n          />\n          <span class=\"text-sm font-semibold\">{{ isSaved ? 'Saved' : 'Save' }}</span>\n        </button>\n\n        <button @click=\"handleShare\" class=\"p-2 text-gray-400 hover:text-gray-600 rounded-md hover:bg-gray-100 border border-gray-200 transition-colors\">\n          <Share2 class=\"w-4 h-4\" />\n        </button>\n\n        <button @click=\"handlePrint\" class=\"p-2 text-gray-400 hover:text-gray-600 rounded-md hover:bg-gray-100 border border-gray-200 transition-colors\">\n          <Printer class=\"w-4 h-4\" />\n        </button>\n      </div>\n    </div>\n    \n    <div class=\"flex gap-6 mt-8 border-b border-gray-100\">\n      <button \n        v-for=\"tab in tabs\" \n        :key=\"tab\"\n        @click=\"activeTab = tab\"\n        class=\"pb-3 text-sm font-medium border-b-2 transition-colors\"\n        :class=\"activeTab === tab ? 'border-indigo-600 text-indigo-600' : 'border-transparent text-gray-500 hover:text-gray-700'\"\n      >\n        {{ tab }}\n      </button>\n    </div>\n  </div>\n</div>\n \n     <!-- Main Body -->\n     <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n       <div class=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n          \n          <!-- Left Column (Details) -->\n          <div class=\"lg:col-span-2 space-y-6\">\n             \n             <!-- OVERVIEW TAB -->\n             <div v-if=\"activeTab === 'Overview'\" class=\"space-y-6\">\n                 <!-- Description -->\n                <div class=\"bg-white rounded-xl border border-gray-200 p-6 shadow-sm\">\n                <h3 class=\"text-lg font-semibold text-gray-900 mb-4\">Description</h3>\n                \n                <div \n                   class=\"text-sm text-gray-600 leading-relaxed mb-8\" \n                   v-html=\"tender.description || 'No description provided.'\"\n                ></div>\n \n                <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                   <div class=\"p-4 bg-blue-50 rounded-lg border border-blue-100 flex items-center gap-3\">\n                      <div class=\"p-2 bg-blue-100 rounded-lg text-blue-600\">\n                      <TrendingDown class=\"w-5 h-5\" />\n                      </div>\n                      <div>\n                      <div class=\"text-xs text-blue-600 font-medium mb-0.5\">Min Bid Decrement</div>\n                      <div class=\"text-sm font-bold text-gray-900\">\n                         ₹{{ tender.minBidDecrement?.toLocaleString('en-IN') || 0 }}\n                      </div>\n                      </div>\n                   </div>\n \n                   <div class=\"p-4 bg-green-50 rounded-lg border border-green-100 flex items-center gap-3\">\n                      <div class=\"p-2 bg-green-100 rounded-lg text-green-600\">\n                      <Banknote class=\"w-5 h-5\" />\n                      </div>\n                      <div>\n                      <div class=\"text-xs text-green-600 font-medium mb-0.5\">EMD Required</div>\n                      <div class=\"text-sm font-bold text-gray-900\">\n                         ₹{{ tender.emdRequired?.toLocaleString('en-IN') || 0 }}\n                      </div>\n                      </div>\n                   </div>\n \n                   <div class=\"p-4 bg-orange-50 rounded-lg border border-orange-100 flex items-center gap-3\">\n                      <div class=\"p-2 bg-orange-100 rounded-lg text-orange-600\">\n                      <Hourglass class=\"w-5 h-5\" />\n                      </div>\n                      <div>\n                      <div class=\"text-xs text-orange-600 font-medium mb-0.5\"> Bid Submission Last Date</div>\n                      <div class=\"text-sm font-bold text-gray-900\">\n                         {{ tender.deadline || '0 mins' }}\n                      </div>\n                      </div>\n                   </div>\n                </div>\n                </div>\n \n                 <!-- Terms -->\n                <div class=\"bg-white rounded-xl border border-gray-200 p-6 shadow-sm\">\n                <h3 class=\"text-lg font-semibold text-gray-900 mb-4\">Terms & Conditions</h3>\n \n                <div \n                   class=\"prose prose-sm max-w-none text-gray-600 leading-relaxed\" \n                   v-html=\"tender.termsData\"\n                ></div>\n                </div>\n                 \n                  <!-- Similar Tenders -->\n                   <div v-if=\"similarTenders && similarTenders.length > 0\" class=\"bg-white rounded-xl border border-gray-200 p-6 shadow-sm\">\n                    <h3 class=\"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2\">\n                      <Bookmark class=\"w-4 h-4 text-gray-400\" /> Similar Tenders\n                    </h3>\n                    <div class=\"space-y-3\">\n                      <div \n                        v-for=\"sim in similarTenders\" \n                        :key=\"sim.id\" \n                        @click=\"navigateToTender(sim.id)\"\n                        class=\"flex items-center justify-between p-4 rounded-lg border border-gray-100 hover:border-green-200 hover:bg-green-50/30 transition-all cursor-pointer group\"\n                      >\n                        <div>\n                          <div class=\"text-sm font-bold text-gray-900 group-hover:text-green-600 transition-colors\">\n                            {{ sim.title }}\n                          </div>\n                          <div class=\"text-xs text-gray-500 mt-1\">\n                            Budget: ₹{{ sim.budget.toLocaleString('en-IN') }} • Deadline: {{ sim.deadline }}\n                          </div>\n                        </div>\n                        <ArrowRight class=\"w-4 h-4 text-gray-400 group-hover:text-green-600 transform group-hover:translate-x-1 transition-all\" />\n                      </div>\n                    </div>\n                  </div>\n                  </div>\n \n             <!-- SPECIFICATIONS TAB -->\n             <div v-if=\"activeTab === 'Specifications'\" class=\"bg-white rounded-xl border border-gray-200 p-6 shadow-sm\">\n                <h3 class=\"text-lg font-semibold text-gray-900 mb-6\">Technical Specifications</h3>\n                <div class=\"space-y-4\">\n                   <div v-if=\"tender.items.length === 0\" class=\"text-gray-500 italic\">No items specified.</div>\n                   <div v-for=\"(item, idx) in tender.items\" :key=\"idx\" class=\"p-4 bg-gray-50 rounded-lg border border-gray-100 flex items-start gap-3\">\n                      <BadgeCheck class=\"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5\" />\n                      <div class=\"flex-grow\">\n                         <span class=\"text-sm font-semibold text-gray-900 block\">{{ item.item_name }} ({{ item.item_code }})</span>\n                         <div class=\"text-xs text-gray-500 mt-1\" v-if=\"item.description\" v-html=\"item.description\"></div>\n                         <div class=\"mt-2 flex gap-4 text-xs font-medium text-gray-700 items-center\">\n                             <span class=\"bg-white px-2 py-1 rounded border border-gray-200\">Qty: {{ item.qty }} {{ item.uom }}</span>\n                             <span v-if=\"item.budget\" class=\"bg-white px-2 py-1 rounded border border-gray-200\">Budget Rate: ₹{{ item.budget }}</span>\n                             <a v-if=\"item.attach_boq\" :href=\"item.attach_boq\" target=\"_blank\" class=\"flex items-center gap-1 text-indigo-600 hover:text-indigo-800 hover:underline\">\n                                 <Download class=\"w-3 h-3\" /> Download BOQ\n                             </a>\n                         </div>\n                      </div>\n                   </div>\n                </div>\n \n                <div class=\"mt-8\">\n                   <h3 class=\"text-lg font-semibold text-gray-900 mb-4\">Delivery Requirements</h3>\n                    <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                       <div class=\"p-4 border border-gray-200 rounded-lg\">\n                          <div class=\"text-xs text-gray-500 mb-1\">Delivery Location</div>\n                          <div class=\"font-medium text-gray-900\">Delhi NCR</div>\n                       </div>\n                       <div class=\"p-4 border border-gray-200 rounded-lg\">\n                          <div class=\"text-xs text-gray-500 mb-1\">Expected Delivery Date</div>\n                          <div class=\"font-medium text-gray-900\">15 March 2024</div>\n                       </div>\n                       <div class=\"p-4 border border-gray-200 rounded-lg\">\n                          <div class=\"text-xs text-gray-500 mb-1\">Delivery Terms</div>\n                          <div class=\"font-medium text-gray-900\">FOR Destination</div>\n                       </div>\n                       <div class=\"p-4 border border-gray-200 rounded-lg\">\n                          <div class=\"text-xs text-gray-500 mb-1\">Inspection</div>\n                          <div class=\"font-medium text-gray-900\">Before Dispatch + At Site</div>\n                       </div>\n                    </div>\n                </div>\n             </div>\n \n             <!-- DOCUMENTS TAB -->\n             <div v-if=\"activeTab === 'Documents'\" class=\"bg-white rounded-xl border border-gray-200 p-6 shadow-sm\">\n                <h3 class=\"text-lg font-semibold text-gray-900 mb-6\">Tender Documents</h3>\n                <div class=\"space-y-3\">\n                   <div v-if=\"!tender.documents || tender.documents.length === 0\" class=\"text-gray-500 italic\">No documents attached.</div>\n                   <div v-for=\"(doc, idx) in tender.documents\" :key=\"idx\" class=\"flex items-center justify-between p-4 rounded-lg border border-gray-200 hover:border-indigo-300 hover:bg-indigo-50/30 transition-all group\">\n                      <div class=\"flex items-center gap-4\">\n                         <div class=\"p-2 bg-red-50 rounded-lg text-red-500\">\n                            <FileText class=\"w-6 h-6\" /> \n                         </div>\n                         <div>\n                            <div class=\"font-medium text-gray-900 group-hover:text-indigo-700\">{{ doc.name }}</div>\n                            <div class=\"text-xs text-gray-500\">{{ doc.size }}</div>\n                         </div>\n                      </div>\n                      <a :href=\"doc.url\" target=\"_blank\" class=\"p-2 text-gray-400 hover:text-indigo-600 hover:bg-white rounded-full transition-colors shadow-sm\">\n                         <Download class=\"w-4 h-4\" />\n                      </a>\n                   </div>\n                </div>\n             </div>\n \n             <!-- TIMELINE TAB -->\n             <div v-if=\"activeTab === 'Timeline'\" class=\"bg-white rounded-xl border border-gray-200 p-6 shadow-sm\">\n                <h3 class=\"text-lg font-semibold text-gray-900 mb-6\">Tender Timeline</h3>\n                <div class=\"relative pl-4\">\n                   <!-- Vertical Line -->\n                   <div class=\"absolute left-[27px] top-4 bottom-4 w-0.5 bg-gray-200\"></div>\n \n                   <div v-for=\"(step, idx) in tender.timeline\" :key=\"idx\" class=\"relative flex gap-6 mb-8 last:mb-0\">\n                      <div class=\"relative z-10 flex-shrink-0 w-6 h-6 rounded-full border-2 flex items-center justify-center bg-white\" \n                           :class=\"step.completed ? 'border-indigo-600 bg-indigo-50' : 'border-gray-300'\">\n                         <div v-if=\"step.completed\" class=\"w-2.5 h-2.5 rounded-full bg-indigo-600\"></div>\n                      </div>\n                      <div class=\"flex-grow pt-0.5\">\n                         <h4 class=\"text-sm font-bold text-gray-900\">{{ step.stage }}</h4>\n                         <p class=\"text-xs text-gray-500 mt-1\">{{ step.date }}</p>\n                      </div>\n                      <div v-if=\"step.completed\" class=\"text-xs font-medium text-green-600 bg-green-50 px-2 py-1 rounded self-start\">\n                         Completed\n                      </div>\n                   </div>\n                </div>\n             </div> \n          </div>\n \n          <!-- Right Column (Stats & Actions) -->\n          <div class=\"lg:col-span-1 space-y-6\">\n             \n             \n          <!-- Summary Card -->\n             <div class=\"bg-white rounded-xl border border-gray-200 px-6 py-6 shadow-sm relative overflow-hidden\">\n    <h3 class=\"text-sm font-bold text-gray-900 mb-4 flex items-center gap-2\">Tender Summary</h3>\n    \n    <div class=\"grid grid-cols-2 gap-y-4 gap-x-2 text-sm mb-6\">\n       <div>\n      <div class=\"flex items-center gap-1.5 text-xs text-gray-500 mb-0.5\">\n         <FileText class=\"w-3.5 h-3.5\" /> Quantity\n      </div>\n      <div class=\"font-bold text-gray-900\">{{ tender.quantity }} {{ tender.UOM }}</div>\n   </div>\n\n   <div>\n      <div class=\"flex items-center gap-1.5 text-xs text-gray-500 mb-0.5\">\n         <UserCircle class=\"w-3.5 h-3.5\" /> Bids Received\n      </div>\n     {{ typeof totalBidsReceived === 'object' ? totalBidsReceived.total_bids : totalBidsReceived }}\n   </div>\n\n   <div>\n      <div class=\"flex items-center gap-1.5 text-xs text-gray-500 mb-0.5\">\n         <Banknote class=\"w-3.5 h-3.5\" /> Est. Budget\n      </div>\n      <div class=\"font-bold text-gray-900\">{{ formattedBudget }}</div>\n   </div>\n        <div>\n          <div class=\"flex items-center gap-1.5 text-xs text-gray-500 mb-0.5\">\n             <Calendar class=\"w-3.5 h-3.5\" /> Delivery Date\n          </div>\n          <div class=\"font-bold text-gray-900\">{{ tender.deliveryDate }}</div>\n       </div>\n    </div>\n\n    <div class=\"pt-4 border-t border-gray-100 mb-6 space-y-3\">\n       <div class=\"flex justify-between items-center\">\n          <div class=\"flex items-center gap-2 text-sm text-gray-500\">\n             <Clock class=\"w-4 h-4\" /> Deadline\n          </div>\n          <div class=\"text-sm font-bold text-gray-900\">{{ tender.deadline }}</div>\n       </div>\n       \n       <div class=\"flex justify-between items-center\">\n          <div class=\"flex items-center gap-2 text-sm text-gray-500\">\n             <Building2 class=\"w-4 h-4\" /> Department\n          </div>\n          <div class=\"text-sm font-bold text-gray-900\">{{ tender.department }}</div>\n       </div>\n    </div>\n\n    <div class=\"flex items-center gap-2 mb-3\">\n  <button \n    class=\"flex-grow bg-indigo-600 hover:bg-indigo-700 text-white text-sm font-semibold py-2.5 rounded-lg shadow-sm transition-colors flex items-center justify-center gap-2\"\n    @click=\"openBidModal\"\n  >\n    <Zap class=\"w-4 h-4\" /> Submit Your Bid\n  </button>\n\n  <button \n    @click=\"goToQueries\" \n    class=\"p-2.5 bg-white border border-gray-200 rounded-lg text-gray-600 hover:bg-gray-50 transition-colors shadow-sm\"\n    title=\"Ask a Query\"\n  >\n    <MessageSquare class=\"w-5 h-5\" />\n  </button>\n</div>\n\n<div v-if=\"mainBoqUrl\">\n  <a \n    :href=\"mainBoqUrl\" \n    target=\"_blank\" \n    class=\"w-full bg-white hover:bg-gray-50 text-gray-700 border border-gray-200 text-sm font-semibold py-2.5 rounded-lg transition-colors flex items-center justify-center gap-2 cursor-pointer no-underline\"\n  >\n    <Download class=\"w-4 h-4 text-gray-500\" /> Download BOQ\n  </a>\n</div>\n</div>\n\n            \n             <!-- Live Bidding Card -->\n          <div v-if=\"tender.liveBidding\" class=\"bg-white rounded-xl border border-gray-200 p-6 shadow-sm ring-1 ring-gray-200\">\n  \n  <div class=\"flex items-center justify-between mb-4\">\n    <div class=\"flex items-center gap-2 px-2.5 py-1 bg-red-50 rounded-full border border-red-100\">\n      <span class=\"relative flex h-2 w-2\">\n        <span class=\"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75\"></span>\n        <span class=\"relative inline-flex rounded-full h-2 w-2 bg-red-500\"></span>\n      </span>\n      <span class=\"text-[10px] font-bold text-red-600 uppercase tracking-wider\">Live Bidding Active</span>\n    </div>\n    <div class=\"text-[10px] text-gray-400 font-medium italic\">\n      Updated 0s ago\n    </div>\n  </div>\n\n  <div class=\"text-center py-6 bg-white rounded-xl border-2 border-green-500/20 mb-6 shadow-[0_0_15px_rgba(34,197,94,0.1)]\">\n    <div class=\"text-xs text-gray-500 font-medium mb-1 uppercase tracking-wider\">Current Lowest Bid</div>\n    <div class=\"text-3xl font-bold text-green-600 tracking-tight\">{{ formattedLowestBid }}</div>\n    \n    <div v-if=\"recentBids.length > 0\" class=\"text-xs font-medium text-green-600 mt-1 flex items-center justify-center gap-1\">\n       <TrendingDown class=\"w-3 h-3\" /> \n       ₹{{ (tender.estBudget - Math.min(...recentBids.map(b => b.total))).toLocaleString('en-IN') }} below budget\n    </div>\n  </div>\n\n  <div class=\"mb-4\">\n    <label class=\"text-xs font-semibold text-gray-700 mb-2 block\">Enter Your Bid Amount</label>\n    <div class=\"flex gap-2 mb-3\"> \n      <div class=\"relative flex-grow\">\n        <span class=\"absolute left-3 top-2.5 text-gray-400\">₹</span>\n        <input v-model=\"bidAmount\" type=\"number\" class=\"w-full pl-7 pr-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-400 focus:border-amber-400\" placeholder=\"Enter amount\">\n      </div>\n      <button \n         @click=\"placeBid\"\n         :disabled=\"!bidAmount || bidAmount <= 0 || isLoading\"\n        :class=\"[\n            'px-4 py-2 bg-orange-400 text-white rounded-lg font-medium transition-all flex items-center gap-2',\n            (!bidAmount || bidAmount <= 0 || isLoading || bidAmount > maxAllowedPrice) \n               ? 'opacity-40 cursor-not-allowed pointer-events-none select-none' \n               : 'opacity-100 hover:bg-orange-500 active:scale-95'\n         ]\"\n         >\n         <span v-if=\"isLoading\">Placing...</span>\n         <template v-else>\n            Bid\n         </template>\n      </button>\n    </div>\n\n    <div class=\"min-h-[20px] mb-3\">\n      <p v-if=\"bidAmount > maxAllowedPrice\" class=\"text-[11px] text-red-600 font-bold px-1 flex items-center gap-1\">\n        <AlertCircle class=\"w-3 h-3\" /> \n        Must be ₹{{ maxAllowedPrice.toLocaleString('en-IN') }} or less to qualify\n      </p>\n    </div>\n\n      <button \n   @click=\"bidAmount = quickBidAmount\" \n   :disabled=\"quickBidAmount <= 0\"\n   class=\"w-full py-1.5 border border-gray-200 rounded-lg flex items-center justify-center gap-2 text-gray-700 hover:bg-gray-50 transition-colors text-sm disabled:opacity-50\"\n   >\n   <ArrowDown class=\"w-4 h-4 text-gray-500\" />\n   Quick bid: ₹{{ quickBidAmount.toLocaleString('en-IN') }}\n      </button>\n  </div>\n\n  <div class=\"mt-6\">\n    <h4 class=\"text-xs font-bold text-gray-900 mb-4 uppercase tracking-wider\">Recent Bid Activity</h4>\n    \n    <div v-if=\"recentBids.length === 0\" class=\"text-center py-4 text-xs text-gray-400 italic\">\n      No bids placed yet. Be the first!\n    </div>\n\n    <div v-for=\"(bid, idx) in recentBids\" :key=\"idx\" \n         class=\"flex items-center justify-between py-3 border-b border-gray-50 last:border-0\"\n         :class=\"{'bg-green-50 -mx-2 px-3 rounded-lg shadow-sm': idx === 0}\">\n      <div class=\"flex flex-col\">\n        <span class=\"font-bold text-sm\" :class=\"idx === 0 ? 'text-green-700' : 'text-gray-700'\">\n          {{ bid.supplier === currentSupplier ? bid.supplier : 'Masked Supplier' }}\n        </span>\n        <span class=\"text-[10px] text-gray-400\">\n          {{ bid.time || 'Just now' }}\n        </span>\n      </div>\n      <div class=\"text-right\">\n        <div class=\"font-bold\" :class=\"idx === 0 ? 'text-green-600' : 'text-gray-900'\">\n          ₹{{ new Intl.NumberFormat('en-IN').format(bid.total) }}\n        </div>\n        <span v-if=\"idx === 0\" class=\"text-[10px] font-bold text-green-500 uppercase\">Current L1</span>\n      </div>\n    </div>\n  </div>\n</div>\n\n \n            <div class=\"bg-indigo-900 rounded-xl p-6 text-white text-center shadow-lg\">\n    <h4 class=\"font-bold text-sm mb-2\">Need Help?</h4>\n    <p class=\"text-xs text-indigo-200 mb-4 leading-relaxed\">\n        Have questions about this tender? Contact our support team.\n    </p>\n    <button \n        @click=\"showSupportModal = true\"\n        class=\"w-full bg-white text-indigo-900 text-xs font-bold py-2 rounded-lg shadow-sm hover:bg-indigo-50 transition-colors flex items-center justify-center gap-2\"\n    >\n        <MessageSquare class=\"w-4 h-4\" /> \n        Contact Support\n    </button>\n  </div>\n\n  <div v-if=\"showSupportModal\" \n       class=\"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm\"\n       @click.self=\"showSupportModal = false\">\n      \n      <div class=\"bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden transform transition-all duration-300 scale-100\">\n          <div class=\"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-gray-50/50\">\n              <h3 class=\"font-bold text-gray-900\">Contact Information</h3>\n              <button @click=\"showSupportModal = false\" class=\"text-gray-400 hover:text-gray-600 transition-colors\">\n                  <X class=\"h-5 w-5\" />\n              </button>\n          </div>\n\n          <div class=\"p-6 space-y-6\">\n              <div>\n                  <label class=\"text-[10px] uppercase tracking-widest font-bold text-indigo-600 mb-1 block\">Contact Person</label>\n                  <p class=\"text-gray-900 font-semibold text-lg\">\n                      {{ tenderDetails.custom_contact_person_display || 'Support Team' }}\n                  </p>\n              </div>\n\n              <div>\n                  <label class=\"text-[10px] uppercase tracking-widest font-bold text-indigo-600 mb-1 block\">Office Address</label>\n                  <div class=\"text-gray-600 text-sm leading-relaxed whitespace-pre-line bg-gray-50 p-4 rounded-xl border border-gray-100\">\n                      {{ tenderDetails.custom_contact_address_display || 'Address details not available.' }}\n                  </div>\n              </div>\n          </div>\n\n          <div class=\"px-6 py-4 bg-gray-50 border-t border-gray-100\">\n              <button \n                  @click=\"showSupportModal = false\"\n                  class=\"w-full px-4 py-2.5 bg-indigo-600 text-white text-sm font-bold rounded-lg hover:bg-indigo-700 transition-all shadow-md shadow-indigo-100\"\n              >\n                  Close\n              </button>\n          </div>\n      </div>\n  </div>\n \n          </div>\n       </div>\n     </div>\n    </div>\n  </div>\n</template>\n"],"names":["ArrowLeft","createLucideIcon","BadgeCheck","Banknote","Hourglass","Share2","TrendingDown","route","useRoute","router","useRouter","isLoading","ref","isSaved","isSessionExpired","showSupportModal","tenderDetails","refetchSession","__async","authStore","useAuthStore","secureFetch","checkSavedStatus","existing","t","tender","error","handleShare","_a","_b","err","handlePrint","similarTenders","fetchSimilarTenders","category","currentId","url","result","navigateToTender","tenderId","fetchTenderDetails","handleSave","createToast","response","msg","goToQueries","data","d","activeTab","tabs","bidAmount","recentBids","portalSettings","currentSupplier","totalBidsReceived","fetchBidCount","rfqId","formattedBudget","computed","fetchSettings","e","formattedLowestBid","minBid","bid","fetchRecentBids","tId","formatBidTime","dateStr","diffInMinutes","placeBid","currentL1","b","minDecrement","_c","maxAllowedBid","errorMsg","_d","currentL1Value","maxAllowedPrice","benchmark","budget","quickBidAmount","percent","percentageDrop","actualDrop","nextBid","refreshAllData","id","mainBoqUrl","itemWithBoq","i","watch","newId","onMounted","_openBlock","_createElementBlock","_hoisted_1","_hoisted_2","_cache","_createElementVNode","_hoisted_3","_createVNode","_unref","UserCircle","_hoisted_5","_hoisted_6","_hoisted_7","$event","_hoisted_8","_hoisted_9","_hoisted_10","_toDisplayString","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","Calendar","_hoisted_17","MapPin","_hoisted_18","_normalizeClass","Bookmark","_hoisted_19","Printer","_hoisted_20","_Fragment","_renderList","tab","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_40","_hoisted_41","_hoisted_42","sim","_hoisted_44","_hoisted_45","ArrowRight","_hoisted_46","_hoisted_47","_hoisted_48","item","idx","_hoisted_49","_hoisted_50","_hoisted_52","_hoisted_53","_hoisted_54","Download","_hoisted_56","_hoisted_57","_hoisted_58","doc","_hoisted_59","_hoisted_60","FileText","_hoisted_61","_hoisted_62","_hoisted_64","_hoisted_65","step","_hoisted_66","_hoisted_67","_hoisted_68","_hoisted_69","_hoisted_70","_hoisted_71","_hoisted_72","_hoisted_73","_hoisted_74","_hoisted_75","_hoisted_76","_createTextVNode","_hoisted_77","_hoisted_78","_hoisted_79","_hoisted_80","_hoisted_81","_hoisted_82","_hoisted_83","Clock","_hoisted_84","_hoisted_85","_hoisted_86","Building2","_hoisted_87","_hoisted_88","_ctx","args","Zap","MessageSquare","_hoisted_89","_hoisted_91","_hoisted_92","_hoisted_93","_hoisted_94","_hoisted_95","_hoisted_96","_hoisted_97","_hoisted_100","_hoisted_101","AlertCircle","_component_ArrowDown","_hoisted_103","_hoisted_104","_hoisted_105","_hoisted_106","_hoisted_107","_hoisted_108","_hoisted_109","_hoisted_110","_hoisted_111","_component_X","_hoisted_112","_hoisted_113","_hoisted_114","_hoisted_115","_hoisted_4"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5]}