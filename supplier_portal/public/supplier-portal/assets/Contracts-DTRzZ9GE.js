var lt=Object.defineProperty,dt=Object.defineProperties;var ct=Object.getOwnPropertyDescriptors;var G=Object.getOwnPropertySymbols;var ut=Object.prototype.hasOwnProperty,mt=Object.prototype.propertyIsEnumerable;var K=(h,r,m)=>r in h?lt(h,r,{enumerable:!0,configurable:!0,writable:!0,value:m}):h[r]=m,V=(h,r)=>{for(var m in r||(r={}))ut.call(r,m)&&K(h,m,r[m]);if(G)for(var m of G(r))mt.call(r,m)&&K(h,m,r[m]);return h},B=(h,r)=>dt(h,ct(r));var k=(h,r,m)=>new Promise((R,j)=>{var q=o=>{try{f(m.next(o))}catch(L){j(L)}},I=o=>{try{f(m.throw(o))}catch(L){j(L)}},f=o=>o.done?R(o.value):Promise.resolve(o.value).then(q,I);f((m=m.apply(h,r)).next())});import{c as gt,l as pt,m as w,y as M,p as xt,a as c,e as y,u as v,b as t,t as a,q as yt,v as vt,f as D,F,r as N,k as U,M as ht,x as W,j as X,E as z,o as u,n as $,C as _t}from"./index-CRwOK9IK.js";import{S as ft}from"./search-DyVTcKdV.js";import{F as bt}from"./funnel-B3CMy6rz.js";import{P as wt}from"./printer-47r1knuS.js";import{D as J}from"./download-BeN4sPlq.js";import{C as kt}from"./credit-card-CuKRz72G.js";import{T as Ct}from"./trending-up-BDWUryX5.js";import{C as Pt}from"./calendar-DRSf7UhF.js";/**
 * @license lucide-vue-next v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=gt("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Rt={class:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-8"},jt={key:0,class:"flex items-center justify-center py-20"},It={key:1},Ot={class:"flex flex-col md:flex-row md:items-center md:justify-between mb-8"},Ft={class:"mt-4 md:mt-0 flex gap-8"},Nt={class:"text-right"},Lt={class:"block text-2xl font-bold text-orange-600"},St={class:"text-right"},Tt={class:"block text-2xl font-bold text-green-600"},Ut={class:"flex flex-col sm:flex-row gap-4 mb-6"},At={class:"relative flex-grow"},$t={class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},qt={class:"inline-flex items-center gap-2 rounded-md bg-white px-4 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-gray-300 hover:bg-gray-50"},Et={class:"border-b border-gray-200 mb-6"},Vt={class:"-mb-px flex space-x-8"},Bt=["onClick"],Mt={class:"space-y-4"},zt={class:"flex flex-col sm:flex-row justify-between gap-4"},Jt={class:"flex gap-4"},Qt={class:"h-10 w-10 rounded-lg bg-indigo-50 flex items-center justify-center shrink-0"},Ht={class:"text-base font-bold text-gray-900 leading-tight"},Gt={class:"text-xs text-gray-500 flex items-center gap-2 mt-1"},Kt={class:"mt-4 flex flex-wrap gap-6 text-sm"},Wt={class:"font-bold text-gray-900"},Xt={class:"text-gray-500"},Yt={class:"text-gray-900 font-medium"},Zt={class:"flex items-center gap-2"},te=["onClick"],ee=["onClick"],se={class:"mt-6"},oe={class:"flex justify-between text-xs mb-1"},ae={class:"font-medium text-gray-900"},ne={class:"w-full bg-gray-200 rounded-full h-1.5 overflow-hidden"},re={key:2,class:"animate-in fade-in slide-in-from-bottom-2 duration-500"},ie={class:"flex mb-4 text-sm text-gray-500 items-center gap-2"},le={class:"text-gray-900 font-medium"},de={class:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8"},ce={class:"flex items-center gap-3"},ue={class:"text-2xl font-bold text-gray-900"},me={class:"text-gray-500 mt-1"},ge={class:"flex items-center gap-1 mt-2 text-sm text-gray-500"},pe={href:"#",class:"text-indigo-600 hover:underline"},xe={class:"flex flex-wrap gap-3"},ye={class:"inline-flex items-center gap-2 bg-indigo-600 px-4 py-2 rounded-lg text-white text-sm font-semibold shadow-sm hover:bg-indigo-700 transition-colors"},ve={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-8"},he={class:"bg-white p-5 rounded-xl border border-gray-100 shadow-sm"},_e={class:"flex items-center gap-3 mb-3"},fe={class:"p-2 bg-indigo-50 rounded-lg text-indigo-600"},be={class:"text-xl font-bold text-gray-900"},we={class:"bg-white p-5 rounded-xl border border-gray-100 shadow-sm"},ke={class:"flex items-center gap-3 mb-3"},Ce={class:"p-2 bg-green-50 rounded-lg text-green-600"},Pe={class:"text-xl font-bold text-gray-900"},De={class:"bg-white p-6 rounded-xl border border-gray-100 shadow-sm flex flex-col justify-between min-h-[120px]"},Re={class:"flex items-center gap-3 mb-3"},je={class:"p-2 bg-orange-300 rounded-lg"},Ie={class:"mt-4"},Oe={class:"text-xl font-bold text-gray-900"},Fe={class:"bg-white p-5 rounded-xl border border-gray-100 shadow-sm"},Ne={class:"flex items-center gap-3 mb-3"},Le={class:"p-2 bg-blue-50 rounded-lg text-blue-600"},Se={class:"text-xl font-bold text-gray-900"},Te={class:"border-b border-gray-200 mb-6"},Ue={class:"-mb-px flex space-x-8"},Ae=["onClick"],$e={key:0,class:"grid grid-cols-1 lg:grid-cols-2 gap-8 animate-in fade-in duration-500"},qe={class:"bg-white rounded-xl border border-gray-100 shadow-sm p-6"},Ee={class:"flex items-center gap-2 mb-6 text-gray-900 font-bold"},Ve={class:"grid grid-cols-2 gap-y-6 text-sm"},Be={class:"font-medium"},Me={class:"font-medium"},ze={class:"font-medium text-indigo-600 underline"},Je={class:"font-medium"},Qe={class:"mt-8"},He={class:"flex justify-between text-xs mb-2 font-medium"},Ge={class:"w-full bg-gray-100 h-2 rounded-full overflow-hidden"},Ke={class:"mt-6"},We={class:"flex justify-between text-xs mb-2 font-medium"},Xe={class:"w-full bg-gray-100 h-2 rounded-full overflow-hidden"},Ye={class:"bg-white rounded-xl border border-gray-100 shadow-sm p-6"},Ze={class:"flex items-center gap-2 mb-6 text-gray-900 font-bold"},ts={class:"mb-4"},es={class:"text-lg font-bold text-gray-900"},ss={class:"text-sm text-gray-500"},os={class:"space-y-3 text-sm text-gray-600"},as={key:1,class:"animate-in fade-in duration-500"},ns={class:"bg-white rounded-xl border border-gray-100 shadow-sm overflow-hidden"},rs={class:"overflow-x-auto"},is={class:"min-w-full divide-y divide-gray-200"},ls={class:"bg-white divide-y divide-gray-200"},ds={class:"px-6 py-4 text-sm font-medium text-gray-900"},cs={class:"px-6 py-4 text-center text-sm text-gray-600"},us={class:"px-6 py-4 text-center text-sm text-gray-600"},ms={class:"px-6 py-4 text-right text-sm text-gray-600"},gs={class:"px-6 py-4 text-right text-sm font-bold text-gray-900"},ps={class:"px-6 py-4 text-center text-sm text-gray-600"},xs={class:"px-6 py-4 text-center text-sm text-gray-600"},ys={class:"px-6 py-6 bg-gray-50 border-t flex justify-end"},vs={class:"text-right"},hs={class:"text-2xl font-bold text-gray-900"},_s={key:2,class:"animate-in fade-in duration-500"},fs={class:"bg-white rounded-xl border border-gray-100 shadow-sm overflow-hidden"},bs={class:"overflow-x-auto"},ws={class:"min-w-full divide-y divide-gray-200"},ks={class:"bg-white divide-y divide-gray-200"},Cs={class:"px-6 py-4 text-sm font-medium text-gray-900"},Ps={class:"px-6 py-4 text-sm text-gray-600"},Ds={class:"px-6 py-4 text-right text-sm text-gray-600"},Rs={class:"px-6 py-4 text-center"},js={class:"px-6 py-4 text-right"},Is=["onClick"],Os={key:0},Fs={class:"px-6 py-6 bg-gray-50 border-t border-gray-100"},Ns={class:"flex justify-between items-end"},Ls={class:"text-left"},Ss={class:"text-lg font-bold text-gray-900"},Ts={class:"flex gap-12 text-right"},Us={class:"text-lg font-bold text-green-600"},As={key:3,class:"p-6"},$s={key:0,class:"space-y-4"},qs={class:"flex items-center gap-4"},Es={class:"text-sm font-bold text-gray-900"},Vs={class:"text-xs text-gray-500"},Bs=["href"],Ms={key:1,class:"flex flex-col items-center justify-center py-20 bg-gray-50 rounded-2xl border-2 border-dashed border-gray-200"},Zs={__name:"Contracts",setup(h){const r=pt(),m=w("All Contracts"),R=w(""),j=w(!0),q=w(null),I=w([]),f=w([]);w([]);const o=w(null),L=["All Contracts","Active","Pending","Completed"],Y=["Overview","Line Items","Payments","Documents","Timeline"],C=w("Overview"),Z=()=>{window.print()},tt=()=>k(this,null,function*(){var n;if((n=o.value)!=null&&n.internalName)try{const e=`/api/method/frappe.utils.print_format.download_pdf?doctype=Blanket Order&name=${o.value.internalName}&format=Standard&no_letterhead=0`,l=yield r.secureFetch(e);if(!l.ok)throw new Error("Download failed");const g=yield l.blob(),s=window.URL.createObjectURL(g),i=document.createElement("a");i.href=s,i.download=`PO-${o.value.internalName}.pdf`,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(s)}catch(e){console.error("Error triggering download:",e)}}),et=n=>k(this,null,function*(){if(n)try{const e=`/api/method/frappe.utils.print_format.download_pdf?doctype=Blanket Order&name=${n}&format=Standard&no_letterhead=0`,l=yield r.secureFetch(e);if(!l.ok)throw new Error("Download failed");const g=yield l.blob(),s=window.URL.createObjectURL(g),i=document.createElement("a");i.href=s,i.download=`${n}.pdf`,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(s),showNotification(`Downloading ${n}...`)}catch(e){console.error("Error downloading Blanket Order:",e)}}),st=M(()=>it.value.map(n=>{const e=n.items||[],l=e.length,g=e.filter(i=>i.ordered_qty>=i.qty&&i.qty>0).length,s=l>0?g/l*100:0;return console.log("-----------------------------percent",s),B(V({},n),{deliveryCount:g,totalItems:l,progressPercent:Math.round(s)})})),ot=n=>k(this,null,function*(){o.value=B(V({},n),{items:[],documents:[]}),f.value=[],C.value="Overview";try{const l=yield(yield r.secureFetch(`/api/resource/Blanket Order/${n.internalName}`)).json();if(l.data){const d=l.data;if(d.items){o.value.totalItems=d.items.length;const P=d.items.filter(x=>x.ordered_qty>=x.qty&&x.qty>0).length;o.value.deliveryCount=P,o.value.items=d.items.map(x=>({item_code:x.item_code,qty:x.qty,uom:"-",rate:x.rate,custom_amount:x.custom_amount,delivered:"-",status:x.ordered_qty>=x.qty?"Delivered":"Pending"}))}}const s=yield(yield r.secureFetch(`/api/method/supplier_portal.api.get_contract_documents?blanket_order=${n.internalName}`)).json();s.message&&(o.value.documents=s.message.map(d=>({id:d.id,name:d.document_name,file_url:d.file_url,date:d.date})));const _=yield(yield r.secureFetch(`/api/method/supplier_portal.api.get_contract_payments?blanket_order=${n.internalName}`)).json();if(_.data&&_.data.length>0)f.value=_.data.map(d=>({id:d.name,date:d.posting_date,amount:d.paid_amount,status:d.docstatus===1?"Paid":"Pending"}));else{const P=yield(yield r.secureFetch(`/api/resource/Purchase Order?filters=[["Purchase Order Item","blanket_order","=","${n.internalName}"]]&fields=["name"]`)).json();if(P.data&&P.data.length>0){const x=P.data.map(p=>p.name),T=yield(yield r.secureFetch(`/api/resource/Payment Entry?filters=[["Payment Entry Reference","reference_name","in",${JSON.stringify(x)}]]&fields=["name","posting_date","paid_amount","docstatus"]`)).json();T.data&&(f.value=T.data.map(p=>({id:p.name,date:p.posting_date,amount:p.paid_amount,status:p.docstatus===1?"Paid":"Pending"})))}}const S=yield(yield r.secureFetch(`/api/method/supplier_portal.api.get_blanket_order_payment_stats?blanket_order=${n.internalName}`)).json();if(S.message){o.value.amountReceived=S.message.total_paid||0;const d=n.value||0;o.value.paymentProgress=d>0?Math.min(Math.round(S.message.total_paid/d*100),100):0}}catch(e){console.error("Error loading details:",e)}}),at=n=>k(this,null,function*(){try{const l=`/api/method/frappe.utils.print_format.download_pdf?doctype=Payment Entry&name=${n}&format=Standard&no_letterhead=0`,g=yield r.secureFetch(l);if(!g.ok)throw new Error("Download failed");const s=yield g.blob(),i=window.URL.createObjectURL(s),_=document.createElement("a");_.href=i,_.download=`${n}.pdf`,document.body.appendChild(_),_.click(),document.body.removeChild(_),window.URL.revokeObjectURL(i)}catch(e){console.error("Error downloading payment receipt:",e)}}),nt=n=>k(this,null,function*(){try{const e=JSON.stringify([["blanket_order_type","=","Purchasing"],["supplier","=",n],["docstatus","!=",2]]),g=yield(yield r.secureFetch(`/api/resource/Blanket Order?filters=${e}&fields=["*"]`)).json();g.data&&(I.value=g.data.map(s=>{var x,E,T;const i=((x=s.items)==null?void 0:x.reduce((p,O)=>p+(O.qty||0),0))||0,_=((E=s.items)==null?void 0:E.reduce((p,O)=>p+(O.ordered_qty||0),0))||0,A=s.items||[];console.log("-----------------------items",A);const S=A.length,d=((T=s.items)==null?void 0:T.reduce((p,O)=>p+(O.qty||0)*(O.rate||0),0))||0;console.log("------------------------totalValue",d);const P=A.filter(p=>p.ordered_qty>=p.qty&&p.qty>0).length;return{id:s.order_no||s.name,internalName:s.name,title:s.custom_contract_subject_for_supplier_portal||"Blanket Order",date:s.from_date,value:s.custom_total_inr||d||0,deliveryDate:s.to_date,deliveredItems:_,items:s.items||[],totalItems:i,status:s.docstatus===1?"Active":"Pending",progress:s.custom_delivery_?Math.round(s.custom_delivery_):0,deliveryCount:P,totalItems:S,amountReceived:0,paymentProgress:0,tenderId:s.tender_id||"TND-2024-005",paymentTerms:s.payment_terms_template||"30 days from delivery",buyer:{name:s.company||"Tata Steel Limited",division:"Procurement - Safety Division",phone:"+91 657 242 5000",email:"procurement.safety@tatasteel.com",address:"Jamshedpur, Jharkhand 831001"}}}))}catch(e){console.error("Contracts Sync Error:",e)}}),Q=()=>{o.value=null},H=M(()=>{const n=I.value.filter(l=>l.status==="Active").length,e=I.value.reduce((l,g)=>l+g.value,0);return{count:n,totalValue:e}}),rt=()=>k(this,null,function*(){try{const e=yield(yield r.secureFetch("/api/method/supplier_portal.api.get_logged_user_supplier")).json();return e.message?(q.value=e.message,e.message):null}catch(n){return console.error("Identity Fetch Error:",n),null}}),it=M(()=>I.value.filter(n=>{const e=m.value==="All Contracts"||n.status===m.value,l=n.title.toLowerCase().includes(R.value.toLowerCase())||n.id.toLowerCase().includes(R.value.toLowerCase());return e&&l})),b=n=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(n||0);return xt(()=>k(this,null,function*(){j.value=!0;try{if(r.isAuthenticated||(yield r.initializeAuth()),!r.isAuthenticated){window.location.href="/app";return}const n=yield rt();n&&(yield nt(n))}catch(n){console.error("Mounting Error:",n)}finally{j.value=!1}})),(n,e)=>{const l=W("Package"),g=W("UserCircle");return u(),c("div",Rt,[j.value?(u(),c("div",jt,[y(v(Dt),{class:"w-10 h-10 animate-spin text-indigo-600"})])):o.value?(u(),c("div",re,[t("nav",ie,[t("button",{onClick:Q,class:"hover:text-indigo-600 transition-colors"},"Dashboard"),e[10]||(e[10]=t("span",null,"/",-1)),t("button",{onClick:Q,class:"hover:text-indigo-600 transition-colors"},"Contracts"),e[11]||(e[11]=t("span",null,"/",-1)),t("span",le,a(o.value.id),1)]),t("div",de,[t("div",null,[t("div",ce,[t("h1",ue,a(o.value.id),1),e[12]||(e[12]=t("span",{class:"bg-blue-100 text-blue-800 px-2 py-0.5 rounded text-xs font-medium uppercase tracking-wide"},"Active",-1))]),t("p",me,a(o.value.title),1),t("div",ge,[e[13]||(e[13]=D(" Tender ID: ",-1)),t("a",pe,a(o.value.tenderId),1)])]),t("div",xe,[t("button",{onClick:Z,class:"inline-flex items-center gap-2 bg-white px-4 py-2 rounded-lg border border-gray-200 text-sm font-semibold text-gray-700 shadow-sm hover:bg-gray-50 transition-colors"},[y(v(wt),{class:"w-4 h-4"}),e[14]||(e[14]=t("span",null,"Print",-1))]),t("button",{onClick:tt,class:"inline-flex items-center gap-2 bg-white px-4 py-2 rounded-lg border border-gray-200 text-sm font-semibold text-gray-700 shadow-sm hover:bg-gray-50 transition-colors"},[y(v(J),{class:"w-4 h-4"}),e[15]||(e[15]=t("span",null,"Download PO",-1))]),t("button",ye,[y(v(ht),{class:"w-4 h-4"}),e[16]||(e[16]=t("span",null,"Contact Buyer",-1))])])]),t("div",ve,[t("div",he,[t("div",_e,[t("div",fe,[y(v(kt),{class:"w-5 h-5"})]),e[17]||(e[17]=t("span",{class:"text-xs font-medium text-gray-500 uppercase tracking-wider"},"Contract Value",-1))]),t("div",be,a(b(o.value.value)),1)]),t("div",we,[t("div",ke,[t("div",Ce,[y(v(Ct),{class:"w-5 h-5"})]),e[18]||(e[18]=t("span",{class:"text-xs font-medium text-gray-500 uppercase tracking-wider"},"Amount Received",-1))]),t("div",Pe,a(b(o.value.amountReceived)),1)]),t("div",De,[t("div",Re,[t("div",je,[y(l,{class:"w-5 h-5 text-orange-600"})]),e[19]||(e[19]=t("span",{class:"text-xs font-medium text-gray-900 uppercase tracking-wider"}," Delivery Progress ",-1))]),t("div",Ie,[t("div",Oe,a(o.value.deliveryCount)+"/"+a(o.value.totalItems)+" Items ",1)])]),t("div",Fe,[t("div",Ne,[t("div",Le,[y(v(Pt),{class:"w-5 h-5"})]),e[20]||(e[20]=t("span",{class:"text-xs font-medium text-gray-500 uppercase tracking-wider"},"Delivery Deadline",-1))]),t("div",Se,a(o.value.deliveryDate),1)])]),t("div",Te,[t("nav",Ue,[(u(),c(F,null,N(Y,s=>t("button",{key:s,onClick:i=>C.value=s,class:$([C.value===s?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","whitespace-nowrap border-b-2 py-4 px-1 text-sm font-medium transition-all"])},a(s),11,Ae)),64))])]),C.value==="Overview"?(u(),c("div",$e,[t("div",qe,[t("div",Ee,[y(v(X),{class:"w-5 h-5"}),e[21]||(e[21]=D(" Contract Details",-1))]),t("div",Ve,[t("div",null,[e[22]||(e[22]=t("p",{class:"text-gray-500 mb-1"},"PO Number",-1)),t("p",Be,a(o.value.id),1)]),t("div",null,[e[23]||(e[23]=t("p",{class:"text-gray-500 mb-1"},"PO Date",-1)),t("p",Me,a(o.value.date),1)]),t("div",null,[e[24]||(e[24]=t("p",{class:"text-gray-500 mb-1"},"Tender ID",-1)),t("p",ze,a(o.value.tenderId),1)]),t("div",null,[e[25]||(e[25]=t("p",{class:"text-gray-500 mb-1"},"Payment Terms",-1)),t("p",Je,a(o.value.paymentTerms),1)])]),t("div",Qe,[t("div",He,[e[26]||(e[26]=t("span",{class:"text-gray-500"},"Delivery Progress",-1)),t("span",null,a(o.value.progress)+"%",1)]),t("div",Ge,[t("div",{class:"h-full bg-indigo-600",style:z({width:o.value.progress+"%"})},null,4)])]),t("div",Ke,[t("div",We,[e[27]||(e[27]=t("span",{class:"text-gray-500"},"Payment Progress",-1)),t("span",null,a(o.value.paymentProgress||0)+"%",1)]),t("div",Xe,[t("div",{class:"h-full bg-blue-600",style:z({width:(o.value.paymentProgress||0)+"%"})},null,4)])])]),t("div",Ye,[t("div",Ze,[y(g,{class:"w-5 h-5"}),e[28]||(e[28]=D(" Buyer Information",-1))]),t("div",ts,[t("h3",es,a(o.value.buyer.name),1),t("p",ss,a(o.value.buyer.division),1)]),t("div",os,[t("p",null,a(o.value.buyer.phone),1),t("p",null,a(o.value.buyer.email),1),t("p",null,a(o.value.buyer.address),1)]),e[29]||(e[29]=t("button",{class:"mt-6 w-full py-2.5 rounded-lg border border-gray-200 text-sm font-semibold hover:bg-gray-50 transition-colors"},"Send Message",-1))])])):U("",!0),C.value==="Line Items"?(u(),c("div",as,[t("div",ns,[e[32]||(e[32]=t("div",{class:"px-6 py-4 border-b border-gray-100 font-bold text-gray-900 text-lg"},"Line Items",-1)),t("div",rs,[t("table",is,[e[30]||(e[30]=t("thead",{class:"bg-gray-50"},[t("tr",{class:"text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},[t("th",{class:"px-6 py-3"},"Description"),t("th",{class:"px-6 py-3 text-center"},"Qty"),t("th",{class:"px-6 py-3 text-center"},"Unit"),t("th",{class:"px-6 py-3 text-right"},"Unit Price"),t("th",{class:"px-6 py-3 text-right"},"Total"),t("th",{class:"px-6 py-3 text-center"},"Delivered"),t("th",{class:"px-6 py-3 text-center"},"Status")])],-1)),t("tbody",ls,[(u(!0),c(F,null,N(o.value.items,s=>(u(),c("tr",{key:s.item_code,class:"hover:bg-gray-50 transition-colors"},[t("td",ds,a(s.item_code),1),t("td",cs,a(s.qty),1),t("td",us,a(s.uom),1),t("td",ms,a(b(s.rate)),1),t("td",gs,a(b(s.custom_amount)),1),t("td",ps,a(s.delivered),1),t("td",xs,a(s.status),1)]))),128))])])]),t("div",ys,[t("div",vs,[e[31]||(e[31]=t("span",{class:"text-xs font-medium text-gray-500 uppercase"},"Total Contract Value",-1)),t("div",hs,a(b(o.value.value)),1)])])])])):U("",!0),C.value==="Payments"?(u(),c("div",_s,[t("div",fs,[e[37]||(e[37]=t("div",{class:"px-6 py-4 border-b border-gray-100 font-bold text-gray-900 text-lg"}," Payment History ",-1)),t("div",bs,[t("table",ws,[e[34]||(e[34]=t("thead",{class:"bg-gray-50"},[t("tr",{class:"text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},[t("th",{class:"px-6 py-3"},"Payment ID"),t("th",{class:"px-6 py-3"},"Posting Date"),t("th",{class:"px-6 py-3 text-right"},"Amount"),t("th",{class:"px-6 py-3 text-center"},"Status"),t("th",{class:"px-6 py-3 text-right"},"Actions")])],-1)),t("tbody",ks,[(u(!0),c(F,null,N(f.value,s=>(u(),c("tr",{key:s.id,class:"hover:bg-gray-50 transition-colors"},[t("td",Cs,a(s.id),1),t("td",Ps,a(s.date),1),t("td",Ds,a(b(s.amount)),1),t("td",Rs,[t("span",{class:$([[s.status==="Paid"?"bg-green-50 text-green-700 ring-green-600/20":"bg-orange-50 text-orange-700 ring-orange-600/20"],"inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium ring-1 ring-inset"])},a(s.status),3)]),t("td",js,[t("button",{onClick:i=>at(s.id),class:"p-1.5 text-gray-400 hover:text-indigo-600 transition-colors",title:"Download Invoice"},[y(v(J),{class:"w-4 h-4"})],8,Is)])]))),128)),f.value&&f.value.length===0?(u(),c("tr",Os,[...e[33]||(e[33]=[t("td",{colspan:"4",class:"px-6 py-10 text-center text-sm text-gray-500"}," No payment entries found for this contract. ",-1)])])):U("",!0)])])]),t("div",Fs,[t("div",Ns,[t("div",Ls,[e[35]||(e[35]=t("span",{class:"text-xs font-medium text-gray-500 uppercase tracking-wider"},"Total Value",-1)),t("div",Ss,a(b(o.value.value)),1)]),t("div",Ts,[t("div",null,[e[36]||(e[36]=t("span",{class:"text-xs font-medium text-green-600 uppercase tracking-wider"},"Amount Received",-1)),t("div",Us,a(b(o.value.amountReceived)),1)])])])])])])):U("",!0),C.value==="Documents"?(u(),c("div",As,[o.value.documents&&o.value.documents.length>0?(u(),c("div",$s,[(u(!0),c(F,null,N(o.value.documents,s=>(u(),c("div",{key:s.id,class:"flex items-center justify-between p-4 bg-white border border-gray-100 rounded-xl hover:shadow-md transition-shadow"},[t("div",qs,[e[38]||(e[38]=t("div",{class:"p-2 bg-indigo-50 text-indigo-600 rounded-lg"},[t("svg",{class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})])],-1)),t("div",null,[t("h4",Es,a(s.name),1),t("p",Vs,"Uploaded: "+a(s.date),1)])]),t("a",{href:s.file_url,target:"_blank",class:"px-4 py-2 text-xs font-semibold text-indigo-600 bg-indigo-50 rounded-lg hover:bg-indigo-100 transition-colors"}," View File ",8,Bs)]))),128))])):(u(),c("div",Ms,[...e[39]||(e[39]=[t("h3",{class:"text-sm font-medium text-gray-900"},"No Documents Found",-1),t("p",{class:"text-xs text-gray-500 mt-1"},"There are no files attached to this contract yet.",-1)])]))])):U("",!0)])):(u(),c("div",It,[t("div",Ot,[e[3]||(e[3]=t("div",null,[t("h1",{class:"text-3xl font-bold text-gray-900"},"Contracts & Orders"),t("p",{class:"mt-1 text-sm text-gray-500"},"Manage your purchase orders and contracts.")],-1)),t("div",Ft,[t("div",Nt,[e[1]||(e[1]=t("span",{class:"block text-xs font-medium text-gray-500 uppercase tracking-wider"},"Active Contracts",-1)),t("span",Lt,a(H.value.count),1)]),t("div",St,[e[2]||(e[2]=t("span",{class:"block text-xs font-medium text-gray-500 uppercase tracking-wider"},"Total Value",-1)),t("span",Tt,a(b(H.value.totalValue)),1)])])]),t("div",Ut,[t("div",At,[t("div",$t,[y(v(ft),{class:"h-4 w-4 text-gray-400"})]),yt(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>R.value=s),type:"text",class:"block w-full rounded-md border-0 py-2 pl-10 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-indigo-600 sm:text-sm shadow-sm",placeholder:"Search by PO number or tender title..."},null,512),[[vt,R.value]])]),t("button",qt,[y(v(bt),{class:"h-4 w-4 text-gray-500"}),e[4]||(e[4]=D(" Filters ",-1))])]),t("div",Et,[t("nav",Vt,[(u(),c(F,null,N(L,s=>t("button",{key:s,onClick:i=>m.value=s,class:$([m.value===s?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","whitespace-nowrap border-b-2 py-4 px-1 text-sm font-medium transition-all"])},a(s),11,Bt)),64))])]),t("div",Mt,[(u(!0),c(F,null,N(st.value,s=>(u(),c("div",{key:s.id,class:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm hover:shadow-md transition-shadow"},[t("div",zt,[t("div",Jt,[t("div",Qt,[y(v(X),{class:"h-5 w-5 text-indigo-600"})]),t("div",null,[t("h3",Ht,a(s.title),1),t("div",Gt,[t("span",null,a(s.id),1),e[5]||(e[5]=t("span",{class:"text-gray-300"},"â€¢",-1)),t("span",null,a(s.date),1)]),t("div",Kt,[t("span",Wt,a(b(s.value)),1),t("span",Xt,[e[6]||(e[6]=D(" Delivery: ",-1)),t("span",Yt,a(s.deliveryDate),1)]),t("span",null,[e[7]||(e[7]=D("Items: ",-1)),t("b",null,a(s.deliveryCount)+"/"+a(s.totalItems),1),e[8]||(e[8]=D(" delivered",-1))])])])]),t("div",Zt,[t("span",{class:$(["inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium ring-1 ring-inset",[s.status==="Active"?"bg-blue-50 text-blue-700 ring-blue-700/10":s.status==="Completed"?"bg-green-50 text-green-700 ring-green-600/20":"bg-orange-50 text-orange-700 ring-orange-600/20"]])},a(s.status),3),t("button",{onClick:i=>ot(s),class:"rounded-md bg-white px-3 py-1.5 text-xs font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 text-center min-w-[70px] transition-colors"}," View ",8,te),t("button",{onClick:_t(i=>et(s.internalName),["stop"]),class:"p-1.5 text-gray-400 hover:text-indigo-600 border border-gray-200 rounded-lg transition-colors",title:"Download Blanket Order"},[y(v(J),{class:"w-4 h-4"})],8,ee)])]),t("div",se,[t("div",oe,[e[9]||(e[9]=t("span",{class:"text-gray-500"},"Delivery Progress",-1)),t("span",ae,a(s.progress||0)+"%",1)]),t("div",ne,[t("div",{class:"bg-indigo-600 h-1.5 rounded-full transition-all duration-700 ease-out",style:z({width:(s.progress||0)+"%"})},null,4)])])]))),128))])]))])}}};export{Zs as default};
//# sourceMappingURL=Contracts-DTRzZ9GE.js.map
