var h=(F,w,p)=>new Promise((k,b)=>{var C=v=>{try{y(p.next(v))}catch(D){b(D)}},j=v=>{try{y(p.throw(v))}catch(D){b(D)}},y=v=>v.done?k(v.value):Promise.resolve(v.value).then(C,j);y((p=p.apply(F,w)).next())});import{c as L,m as f,l as ie,y as R,w as ae,p as ne,a as n,b as e,e as l,u as a,g as de,f as g,k as x,t as i,n as A,B as P,F as S,r as T,d as I,j as O,M as le,q as ce,v as ue,z as ge,o as d}from"./index-BhR-nqhO.js";import{t as _}from"./mosha-vue-toastify.es-BNbz0shj.js";import{C as H}from"./circle-user-Ds3U2MJr.js";import{C as me}from"./circle-alert-C5E-eqiH.js";import{C as z}from"./calendar-DeKltLsB.js";import{M as xe}from"./map-pin-CXBl2TDf.js";import{P as ve}from"./printer-DmI2yYjh.js";import{C as pe}from"./clock-D-eOqCgi.js";import{B as be}from"./building-2-Caddw7rI.js";import{Z as U}from"./zap-CBgzpFvF.js";import{D as E}from"./download-C42HBkNU.js";import{A as ye}from"./arrow-right-Cem-k8g-.js";/**
 * @license lucide-vue-next v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=L("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-vue-next v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=L("badge-check",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-vue-next v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=L("banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-vue-next v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=L("hourglass",[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]]);/**
 * @license lucide-vue-next v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=L("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-vue-next v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=L("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]]),we={class:"min-h-screen bg-gray-50 pb-12"},ke={key:0,class:"flex items-center justify-center min-h-[60vh]"},De={key:1,class:"flex flex-col items-center justify-center min-h-[60vh] text-center px-4"},Be={key:2,class:"flex flex-col items-center justify-center min-h-[60vh] text-center px-4"},Se={key:3},Te={class:"bg-white border-b border-gray-200"},Le={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4"},Ce={class:"flex flex-col md:flex-row md:items-start justify-between gap-4"},Ne={class:"flex flex-wrap gap-2 mb-3"},Me={class:"inline-flex items-center rounded-md bg-gray-100 px-2.5 py-0.5 text-xs font-medium text-gray-600"},je={class:"inline-flex items-center rounded-md bg-indigo-50 px-2.5 py-0.5 text-xs font-medium text-indigo-700 border border-indigo-100"},qe={key:0,class:"inline-flex items-center rounded-md bg-orange-50 px-2.5 py-0.5 text-xs font-medium text-orange-700 border border-orange-100"},Re={class:"text-2xl font-bold text-gray-900 mb-2"},Ae={class:"flex flex-wrap items-center gap-4 text-xs text-gray-500"},Ee={class:"flex items-center gap-1"},Fe={class:"flex items-center gap-1"},Pe={class:"flex items-center gap-1"},Ie={class:"flex gap-2"},Oe={class:"text-sm font-semibold"},He={class:"flex gap-6 mt-8 border-b border-gray-100"},ze=["onClick"],Ue={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},Ve={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},$e={class:"lg:col-span-2 space-y-6"},Qe={key:0,class:"space-y-6"},Ye={class:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm"},Ze=["innerHTML"],Je={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},We={class:"p-4 bg-blue-50 rounded-lg border border-blue-100 flex items-center gap-3"},Ge={class:"p-2 bg-blue-100 rounded-lg text-blue-600"},Ke={class:"text-sm font-bold text-gray-900"},Xe={class:"p-4 bg-green-50 rounded-lg border border-green-100 flex items-center gap-3"},et={class:"p-2 bg-green-100 rounded-lg text-green-600"},tt={class:"text-sm font-bold text-gray-900"},st={class:"p-4 bg-orange-50 rounded-lg border border-orange-100 flex items-center gap-3"},rt={class:"p-2 bg-orange-100 rounded-lg text-orange-600"},ot={class:"text-sm font-bold text-gray-900"},it={class:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm"},at=["innerHTML"],nt={key:0,class:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm"},dt={class:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2"},lt={class:"space-y-3"},ct=["onClick"],ut={class:"text-sm font-bold text-gray-900 group-hover:text-green-600 transition-colors"},gt={class:"text-xs text-gray-500 mt-1"},mt={key:1,class:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm"},xt={class:"space-y-4"},vt={key:0,class:"text-gray-500 italic"},pt={class:"flex-grow"},bt={class:"text-sm font-semibold text-gray-900 block"},yt=["innerHTML"],ht={class:"mt-2 flex gap-4 text-xs font-medium text-gray-700 items-center"},ft={class:"bg-white px-2 py-1 rounded border border-gray-200"},_t={key:0,class:"bg-white px-2 py-1 rounded border border-gray-200"},wt=["href"],kt={key:2,class:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm"},Dt={class:"space-y-3"},Bt={key:0,class:"text-gray-500 italic"},St={class:"flex items-center gap-4"},Tt={class:"p-2 bg-red-50 rounded-lg text-red-500"},Lt={class:"font-medium text-gray-900 group-hover:text-indigo-700"},Ct={class:"text-xs text-gray-500"},Nt=["href"],Mt={key:3,class:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm"},jt={class:"relative pl-4"},qt={key:0,class:"w-2.5 h-2.5 rounded-full bg-indigo-600"},Rt={class:"flex-grow pt-0.5"},At={class:"text-sm font-bold text-gray-900"},Et={class:"text-xs text-gray-500 mt-1"},Ft={key:0,class:"text-xs font-medium text-green-600 bg-green-50 px-2 py-1 rounded self-start"},Pt={class:"lg:col-span-1 space-y-6"},It={class:"bg-white rounded-xl border border-gray-200 px-6 py-6 shadow-sm relative overflow-hidden"},Ot={class:"grid grid-cols-2 gap-y-4 gap-x-2 text-sm mb-6"},Ht={class:"flex items-center gap-1.5 text-xs text-gray-500 mb-0.5"},zt={class:"font-bold text-gray-900"},Ut={class:"flex items-center gap-1.5 text-xs text-gray-500 mb-0.5"},Vt={class:"font-bold text-gray-900"},$t={class:"flex items-center gap-1.5 text-xs text-gray-500 mb-0.5"},Qt={class:"font-bold text-gray-900"},Yt={class:"flex items-center gap-1.5 text-xs text-gray-500 mb-0.5"},Zt={class:"font-bold text-gray-900"},Jt={class:"pt-4 border-t border-gray-100 mb-6 space-y-3"},Wt={class:"flex justify-between items-center"},Gt={class:"flex items-center gap-2 text-sm text-gray-500"},Kt={class:"text-sm font-bold text-gray-900"},Xt={class:"flex justify-between items-center"},es={class:"flex items-center gap-2 text-sm text-gray-500"},ts={class:"text-sm font-bold text-gray-900"},ss={class:"w-full bg-indigo-600 hover:bg-indigo-700 text-white text-sm font-semibold py-2.5 rounded-lg shadow-sm transition-colors mb-3 flex items-center justify-center gap-2"},rs={class:"flex items-center gap-2"},os=["href"],is={key:0,class:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm ring-1 ring-gray-200"},as={class:"text-center py-6 bg-white rounded-xl border-2 border-green-500/20 mb-6 shadow-[0_0_15px_rgba(34,197,94,0.1)]"},ns={class:"text-3xl font-bold text-green-600 tracking-tight"},ds={class:"text-xs font-medium text-green-600 mt-1 flex items-center justify-center gap-1"},ls={class:"space-y-4"},cs={class:"flex gap-2"},us={class:"relative flex-grow"},gs={class:"mt-8 pt-6 border-t border-gray-100"},ms={class:"space-y-3"},xs={class:"font-medium text-gray-600"},vs={class:"text-right"},ps={class:"font-bold text-green-600"},bs={class:"text-gray-400 text-[10px]"},Ms={__name:"TenderDetail",setup(F){const w=ge(),p=de(),k=f(!0),b=f(!1);f([]);const C=f(!1),j=()=>h(this,null,function*(){k.value=!0,C.value=!1,yield y.logout(!1),p.push("/login?redirect="+w.fullPath)}),y=ie(),{secureFetch:v}=y,D=()=>h(this,null,function*(){if(y.isAuthenticated)try{const s=((yield(yield v("/api/method/supplier_portal.api.get_saved_tenders")).json()).message||[]).find(r=>r.id===w.params.id);s&&(b.value=!0,o.value&&(o.value.saved_record_name=s.saved_id))}catch(c){console.error("Error checking saved status:",c)}}),Y=()=>h(this,null,function*(){var c,t;if(navigator.share)try{yield navigator.share({title:((c=selectedContract.value)==null?void 0:c.title)||"TenderFlow Document",text:`Check out this tender: ${(t=selectedContract.value)==null?void 0:t.id}`,url:window.location.href}),console.log("Successfully shared")}catch(u){console.error("Error sharing:",u)}else try{yield navigator.clipboard.writeText(window.location.href),alert("Link copied to clipboard!")}catch(u){console.error("Failed to copy link:",u)}}),Z=()=>{window.print()},N=f([]),J=(c,t)=>h(this,null,function*(){try{const u="/api/method/supplier_portal.api.get_similar_tenders?"+new URLSearchParams({category:c,exclude_id:t}),r=yield(yield v(u)).json();r.message&&(N.value=r.message.map(m=>({id:m.id,title:m.title,budget:parseFloat(m.budget)||0,deadline:m.deadline?new Date(m.deadline).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"N/A"})))}catch(u){console.error("Error fetching similar tenders:",u)}}),W=c=>{p.push(`/tenders/${c}`).then(()=>{window.scrollTo({top:0,behavior:"smooth"}),q()})},G=()=>h(this,null,function*(){var c;if(o.value){if(!y.isAuthenticated){_("Please login to save tenders",{type:"warning"});return}if(b.value){try{const t=yield v("/api/method/supplier_portal.api.delete_saved_tender",{method:"POST",body:JSON.stringify({saved_id:o.value.saved_record_name})}),u=yield t.json();t.ok&&((c=u.message)==null?void 0:c.status)==="success"?(b.value=!1,_("Removed from saved list",{type:"info"})):(console.error("Delete failed:",u),_("Failed to remove tender",{type:"danger"}))}catch(t){console.error("Delete error:",t)}return}try{const t=yield v("/api/method/supplier_portal.api.save_tender",{method:"POST",body:JSON.stringify({rfq_id:o.value.id})}),u=yield t.json();if(t.ok){const s=u.message;if(s&&s.status==="error"){_(s.message||"Error saving tender",{type:"danger"});return}s&&(s.status==="success"||s.status==="skipped")?(b.value=!0,s.name?o.value.saved_record_name=s.name:yield D(),_(s.message||"Tender saved successfully",{type:"success"})):_("Tender saved",{type:"success"})}else console.error("Save failed:",u),_(u.message||"Failed to save tender",{type:"danger"})}catch(t){console.error("Save error:",t)}}}),K=()=>{p.push("/queries")},o=f(null),q=()=>h(this,null,function*(){var c;k.value=!0;try{const t=yield y.secureFetch("/api/method/supplier_portal.api.get_tender_details?"+new URLSearchParams({name:w.params.id}));if(!t.ok&&(t.status===403||t.status===401))throw console.warn("Permission denied for tender. Likely session expired."),C.value=!0,new Error("Session Expired");const s=(yield t.json()).message;if(!s)throw new Error("No data returned");o.value={id:s.name,title:s.title,publishedDate:s.publish_date?new Date(s.publish_date).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"N/A",location:s.billing_address,category:s.category,status:s.status,liveBidding:s.status==="Active"&&s.enable_live_bidding,description:s.description,UOM:s.uom,quantity:((c=s.total_quantity)==null?void 0:c.toLocaleString("en-IN"))||0,bidsReceived:s.bidsReceived||0,estBudget:s.total_budget,deadline:s.submission_date,department:s.department,currentLowestBid:s.total_budget,minBidDecrement:s.min_bid_decrement,emdRequired:s.emd_amount,termsData:s.terms||"No terms and conditions provided.",autoExtension:s.auto_extension_limit?s.auto_extension_limit+" mins":"0 mins",deliveryDate:s.schedule_date,items:s.items||[],documents:(s.documents||[]).map(r=>({name:r.file_name,url:r.file_url,size:r.file_size+" bytes"})),timeline:[{stage:"Published",date:s.publish_date,completed:!!s.publish_date},{stage:"Bid Submission Starts",date:s.submission_start_date,completed:new Date>new Date(s.submission_start_date)},{stage:"Submission Ends",date:s.submission_date,completed:new Date>new Date(s.submission_date)},{stage:"Result Declaration",date:s.result_date,completed:!1},{stage:"Delivery Expected",date:s.schedule_date,completed:!1}].filter(r=>r.date),similarTenders:[]},s.category&&(yield J(s.category,s.name))}catch(t){console.error("Failed to fetch tender details:",t)}finally{k.value=!1}}),B=f("Overview"),X=["Overview","Specifications","Documents","Timeline"],M=f(),ee=()=>{alert(`Bid placed for ₹${M.value}`)},te=c=>{o.value&&o.value.currentLowestBid&&(M.value=o.value.currentLowestBid-c)},se=R(()=>o.value?new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(o.value.estBudget):"₹0"),re=R(()=>o.value?new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(o.value.currentLowestBid):"₹0"),oe=R(()=>{if(!o.value||!o.value.items)return null;const c=o.value.items.find(t=>t.attach_boq);return c?c.attach_boq:null});return ae(()=>w.params.id,c=>{c&&q()}),ne(()=>h(this,null,function*(){yield q(),yield D()})),(c,t)=>{var u,s;return d(),n("div",we,[k.value?(d(),n("div",ke,[...t[4]||(t[4]=[e("div",{class:"flex flex-col items-center gap-4"},[e("div",{class:"animate-spin rounded-full h-10 w-10 border-b-2 border-indigo-600"}),e("p",{class:"text-gray-500 text-sm font-medium"},"Loading tender details...")],-1)])])):C.value?(d(),n("div",De,[l(a(H),{class:"w-12 h-12 text-orange-500 mb-4"}),t[5]||(t[5]=e("h3",{class:"text-lg font-bold text-gray-900"},"Session Expired",-1)),t[6]||(t[6]=e("p",{class:"text-gray-500 mt-2 max-w-md"},"Your secure session has timed out properly. Please save your work (if any) and reconnect.",-1)),e("button",{onClick:j,class:"mt-6 px-6 py-2.5 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700 transition shadow-sm"}," Reconnect Session ")])):o.value?(d(),n("div",Se,[e("div",Te,[e("div",Le,[e("button",{onClick:t[1]||(t[1]=r=>a(p).back()),class:"flex items-center text-sm text-gray-500 hover:text-gray-900 mb-4 transition-colors"},[l(a(he),{class:"w-4 h-4 mr-1"}),t[9]||(t[9]=g(" Back to Tenders ",-1))]),e("div",Ce,[e("div",null,[e("div",Ne,[e("span",Me,i(o.value.category),1),e("span",je,i(o.value.status),1),o.value.liveBidding?(d(),n("span",qe,[...t[10]||(t[10]=[e("span",{class:"relative flex h-2 w-2 mr-1.5"},[e("span",{class:"animate-ping absolute inline-flex h-full w-full rounded-full bg-orange-400 opacity-75"}),e("span",{class:"relative inline-flex rounded-full h-2 w-2 bg-orange-500"})],-1),g(" Live Bidding ",-1)])])):x("",!0)]),e("h1",Re,i(o.value.title),1),e("div",Ae,[e("span",Ee,[l(a(V),{class:"w-3.5 h-3.5"}),g(" "+i(o.value.id),1)]),e("span",Fe,[l(a(z),{class:"w-3.5 h-3.5"}),g(" Published: "+i(o.value.publishedDate),1)]),e("span",Pe,[l(a(xe),{class:"w-3.5 h-3.5"}),g(" "+i(o.value.location),1)])])]),e("div",Ie,[a(y).isAuthenticated?(d(),n("button",{key:0,onClick:G,class:A(["flex items-center gap-1.5 px-3 py-2 rounded-md border transition-all duration-200",b.value?"text-indigo-600 bg-indigo-50 border-indigo-200 shadow-sm":"text-slate-500 bg-white border-gray-200 hover:text-indigo-600 hover:border-indigo-100 hover:bg-gray-50"])},[l(a(P),{class:"w-5 h-5 transition-transform duration-200 active:scale-90",fill:b.value?"currentColor":"none"},null,8,["fill"]),e("span",Oe,i(b.value?"Saved":"Save"),1)],2)):x("",!0),e("button",{onClick:Y,class:"p-2 text-gray-400 hover:text-gray-600 rounded-md hover:bg-gray-100 border border-gray-200 transition-colors"},[l(a(_e),{class:"w-4 h-4"})]),e("button",{onClick:Z,class:"p-2 text-gray-400 hover:text-gray-600 rounded-md hover:bg-gray-100 border border-gray-200 transition-colors"},[l(a(ve),{class:"w-4 h-4"})])])]),e("div",He,[(d(),n(S,null,T(X,r=>e("button",{key:r,onClick:m=>B.value=r,class:A(["pb-3 text-sm font-medium border-b-2 transition-colors",B.value===r?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700"])},i(r),11,ze)),64))])])]),e("div",Ue,[e("div",Ve,[e("div",$e,[B.value==="Overview"?(d(),n("div",Qe,[e("div",Ye,[t[14]||(t[14]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Description",-1)),e("div",{class:"text-sm text-gray-600 leading-relaxed mb-8",innerHTML:o.value.description||"No description provided."},null,8,Ze),e("div",Je,[e("div",We,[e("div",Ge,[l(a(Q),{class:"w-5 h-5"})]),e("div",null,[t[11]||(t[11]=e("div",{class:"text-xs text-blue-600 font-medium mb-0.5"},"Min Bid Decrement",-1)),e("div",Ke," ₹"+i(((u=o.value.minBidDecrement)==null?void 0:u.toLocaleString("en-IN"))||0),1)])]),e("div",Xe,[e("div",et,[l(a($),{class:"w-5 h-5"})]),e("div",null,[t[12]||(t[12]=e("div",{class:"text-xs text-green-600 font-medium mb-0.5"},"EMD Required",-1)),e("div",tt," ₹"+i(((s=o.value.emdRequired)==null?void 0:s.toLocaleString("en-IN"))||0),1)])]),e("div",st,[e("div",rt,[l(a(fe),{class:"w-5 h-5"})]),e("div",null,[t[13]||(t[13]=e("div",{class:"text-xs text-orange-600 font-medium mb-0.5"}," Bid Submission Last Date",-1)),e("div",ot,i(o.value.deadline||"0 mins"),1)])])])]),e("div",it,[t[15]||(t[15]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Terms & Conditions",-1)),e("div",{class:"prose prose-sm max-w-none text-gray-600 leading-relaxed",innerHTML:o.value.termsData},null,8,at)]),N.value&&N.value.length>0?(d(),n("div",nt,[e("h3",dt,[l(a(P),{class:"w-4 h-4 text-gray-400"}),t[16]||(t[16]=g(" Similar Tenders ",-1))]),e("div",lt,[(d(!0),n(S,null,T(N.value,r=>(d(),n("div",{key:r.id,onClick:m=>W(r.id),class:"flex items-center justify-between p-4 rounded-lg border border-gray-100 hover:border-green-200 hover:bg-green-50/30 transition-all cursor-pointer group"},[e("div",null,[e("div",ut,i(r.title),1),e("div",gt," Budget: ₹"+i(r.budget.toLocaleString("en-IN"))+" • Deadline: "+i(r.deadline),1)]),l(a(ye),{class:"w-4 h-4 text-gray-400 group-hover:text-green-600 transform group-hover:translate-x-1 transition-all"})],8,ct))),128))])])):x("",!0)])):x("",!0),B.value==="Specifications"?(d(),n("div",mt,[t[18]||(t[18]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-6"},"Technical Specifications",-1)),e("div",xt,[o.value.items.length===0?(d(),n("div",vt,"No items specified.")):x("",!0),(d(!0),n(S,null,T(o.value.items,(r,m)=>(d(),n("div",{key:m,class:"p-4 bg-gray-50 rounded-lg border border-gray-100 flex items-start gap-3"},[l(a(V),{class:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),e("div",pt,[e("span",bt,i(r.item_name)+" ("+i(r.item_code)+")",1),r.description?(d(),n("div",{key:0,class:"text-xs text-gray-500 mt-1",innerHTML:r.description},null,8,yt)):x("",!0),e("div",ht,[e("span",ft,"Qty: "+i(r.qty)+" "+i(r.uom),1),r.budget?(d(),n("span",_t,"Budget Rate: ₹"+i(r.budget),1)):x("",!0),r.attach_boq?(d(),n("a",{key:1,href:r.attach_boq,target:"_blank",class:"flex items-center gap-1 text-indigo-600 hover:text-indigo-800 hover:underline"},[l(a(E),{class:"w-3 h-3"}),t[17]||(t[17]=g(" Download BOQ ",-1))],8,wt)):x("",!0)])])]))),128))]),t[19]||(t[19]=I('<div class="mt-8"><h3 class="text-lg font-semibold text-gray-900 mb-4">Delivery Requirements</h3><div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div class="p-4 border border-gray-200 rounded-lg"><div class="text-xs text-gray-500 mb-1">Delivery Location</div><div class="font-medium text-gray-900">Delhi NCR</div></div><div class="p-4 border border-gray-200 rounded-lg"><div class="text-xs text-gray-500 mb-1">Expected Delivery Date</div><div class="font-medium text-gray-900">15 March 2024</div></div><div class="p-4 border border-gray-200 rounded-lg"><div class="text-xs text-gray-500 mb-1">Delivery Terms</div><div class="font-medium text-gray-900">FOR Destination</div></div><div class="p-4 border border-gray-200 rounded-lg"><div class="text-xs text-gray-500 mb-1">Inspection</div><div class="font-medium text-gray-900">Before Dispatch + At Site</div></div></div></div>',1))])):x("",!0),B.value==="Documents"?(d(),n("div",kt,[t[20]||(t[20]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-6"},"Tender Documents",-1)),e("div",Dt,[!o.value.documents||o.value.documents.length===0?(d(),n("div",Bt,"No documents attached.")):x("",!0),(d(!0),n(S,null,T(o.value.documents,(r,m)=>(d(),n("div",{key:m,class:"flex items-center justify-between p-4 rounded-lg border border-gray-200 hover:border-indigo-300 hover:bg-indigo-50/30 transition-all group"},[e("div",St,[e("div",Tt,[l(a(O),{class:"w-6 h-6"})]),e("div",null,[e("div",Lt,i(r.name),1),e("div",Ct,i(r.size),1)])]),e("a",{href:r.url,target:"_blank",class:"p-2 text-gray-400 hover:text-indigo-600 hover:bg-white rounded-full transition-colors shadow-sm"},[l(a(E),{class:"w-4 h-4"})],8,Nt)]))),128))])])):x("",!0),B.value==="Timeline"?(d(),n("div",Mt,[t[22]||(t[22]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-6"},"Tender Timeline",-1)),e("div",jt,[t[21]||(t[21]=e("div",{class:"absolute left-[27px] top-4 bottom-4 w-0.5 bg-gray-200"},null,-1)),(d(!0),n(S,null,T(o.value.timeline,(r,m)=>(d(),n("div",{key:m,class:"relative flex gap-6 mb-8 last:mb-0"},[e("div",{class:A(["relative z-10 flex-shrink-0 w-6 h-6 rounded-full border-2 flex items-center justify-center bg-white",r.completed?"border-indigo-600 bg-indigo-50":"border-gray-300"])},[r.completed?(d(),n("div",qt)):x("",!0)],2),e("div",Rt,[e("h4",At,i(r.stage),1),e("p",Et,i(r.date),1)]),r.completed?(d(),n("div",Ft," Completed ")):x("",!0)]))),128))])])):x("",!0)]),e("div",Pt,[e("div",It,[t[31]||(t[31]=e("h3",{class:"text-sm font-bold text-gray-900 mb-4 flex items-center gap-2"},"Tender Summary",-1)),e("div",Ot,[e("div",null,[e("div",Ht,[l(a(O),{class:"w-3.5 h-3.5"}),t[23]||(t[23]=g(" Quantity ",-1))]),e("div",zt,i(o.value.quantity)+" "+i(o.value.UOM),1)]),e("div",null,[e("div",Ut,[l(a(H),{class:"w-3.5 h-3.5"}),t[24]||(t[24]=g(" Bids Received ",-1))]),e("div",Vt,i(o.value.bidsReceived),1)]),e("div",null,[e("div",$t,[l(a($),{class:"w-3.5 h-3.5"}),t[25]||(t[25]=g(" Est. Budget ",-1))]),e("div",Qt,i(se.value),1)]),e("div",null,[e("div",Yt,[l(a(z),{class:"w-3.5 h-3.5"}),t[26]||(t[26]=g(" Delivery Date ",-1))]),e("div",Zt,i(o.value.deliveryDate),1)])]),e("div",Jt,[e("div",Wt,[e("div",Gt,[l(a(pe),{class:"w-4 h-4"}),t[27]||(t[27]=g(" Deadline ",-1))]),e("div",Kt,i(o.value.deadline),1)]),e("div",Xt,[e("div",es,[l(a(be),{class:"w-4 h-4"}),t[28]||(t[28]=g(" Department ",-1))]),e("div",ts,i(o.value.department),1)])]),e("button",ss,[l(a(U),{class:"w-4 h-4"}),t[29]||(t[29]=g(" Submit Your Bid ",-1))]),e("div",rs,[e("a",{href:oe.value||"#",target:"_blank",class:"flex-grow bg-white hover:bg-gray-50 text-gray-700 border border-gray-200 text-sm font-semibold py-2.5 rounded-lg transition-colors flex items-center justify-center gap-2 cursor-pointer no-underline"},[l(a(E),{class:"w-4 h-4 text-gray-500"}),t[30]||(t[30]=g(" Download BOQ ",-1))],8,os),e("button",{onClick:K,class:"p-2.5 bg-white border border-gray-200 rounded-lg text-gray-600 hover:bg-gray-50 transition-colors shadow-sm"},[l(a(le),{class:"w-5 h-5"})])])]),o.value.liveBidding?(d(),n("div",is,[t[37]||(t[37]=I('<div class="flex items-center justify-between mb-6"><div class="inline-flex items-center rounded-full bg-red-50 px-3 py-1 text-xs font-semibold text-red-600 ring-1 ring-inset ring-red-600/20"><span class="relative flex h-2 w-2 mr-2"><span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"></span><span class="relative inline-flex rounded-full h-2 w-2 bg-red-500"></span></span> Live Bidding Active </div><span class="text-xs text-gray-400">Updated 2s ago</span></div>',1)),e("div",as,[t[33]||(t[33]=e("div",{class:"text-xs text-gray-500 font-medium mb-1 uppercase tracking-wider"},"Current Lowest Bid",-1)),e("div",ns,i(re.value),1),e("div",ds,[l(a(Q),{class:"w-3 h-3"}),t[32]||(t[32]=g(" ₹20,000 below budget ",-1))])]),e("div",ls,[e("div",null,[t[35]||(t[35]=e("label",{class:"text-xs font-semibold text-gray-700 mb-2 block"},"Enter Your Bid Amount",-1)),e("div",cs,[e("div",us,[t[34]||(t[34]=e("span",{class:"absolute left-3 top-2.5 text-gray-400"},"₹",-1)),ce(e("input",{"onUpdate:modelValue":t[2]||(t[2]=r=>M.value=r),type:"number",class:"w-full pl-7 pr-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-400 focus:border-amber-400",placeholder:"Enter amount"},null,512),[[ue,M.value]])]),e("button",{onClick:ee,class:"bg-amber-400 hover:bg-amber-500 text-amber-950 px-6 py-2 rounded-lg text-sm font-bold shadow-sm transition-colors whitespace-nowrap"},"Place Bid")])]),e("button",{onClick:t[3]||(t[3]=r=>te(o.value.minBidDecrement)),class:"w-full group flex items-center justify-center gap-2 bg-gray-50 hover:bg-gray-100 border border-gray-200 text-gray-600 text-xs font-semibold py-2.5 rounded-lg transition-all"},[l(a(U),{class:"w-3 h-3 text-amber-500 group-hover:text-amber-600"}),g(" Quick bid: ₹"+i((o.value.currentLowestBid-o.value.minBidDecrement).toLocaleString()),1)])]),e("div",gs,[t[36]||(t[36]=e("h4",{class:"text-xs font-bold text-gray-900 mb-4"},"Recent Bid Activity",-1)),e("div",ms,[(d(!0),n(S,null,T(o.value.recentBids,(r,m)=>(d(),n("div",{key:m,class:"flex items-center justify-between text-xs pb-3 border-b border-gray-50 last:border-0 last:pb-0"},[e("span",xs,i(r.vendor),1),e("div",vs,[e("div",ps,"₹"+i(r.amount.toLocaleString()),1),e("span",bs,i(r.time),1)])]))),128))])])])):x("",!0),t[38]||(t[38]=e("div",{class:"bg-indigo-900 rounded-xl p-6 text-white text-center"},[e("h4",{class:"font-bold text-sm mb-2"},"Need Help?"),e("p",{class:"text-xs text-indigo-200 mb-4 leading-relaxed"},"Have questions about this tender? Contact our support team."),e("button",{class:"w-full bg-white text-indigo-900 text-xs font-bold py-2 rounded-lg shadow-sm hover:bg-indigo-50 transition-colors flex items-center justify-center gap-2"}," Contact Support ")],-1))])])])])):(d(),n("div",Be,[l(a(me),{class:"w-12 h-12 text-red-500 mb-4"}),t[7]||(t[7]=e("h3",{class:"text-lg font-bold text-gray-900"},"Tender Not Found",-1)),t[8]||(t[8]=e("p",{class:"text-gray-500 mt-2 max-w-md"},"The tender you are looking for does not exist or you do not have permission to view it.",-1)),e("button",{onClick:t[0]||(t[0]=r=>a(p).push("/tenders")),class:"mt-6 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition"},"Back to Tenders")]))])}}};export{Ms as default};
//# sourceMappingURL=TenderDetail-BG8ZJP19.js.map
