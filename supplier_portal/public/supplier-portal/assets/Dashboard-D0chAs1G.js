var T=(V,j,r)=>new Promise((b,l)=>{var B=g=>{try{m(r.next(g))}catch(f){l(f)}},p=g=>{try{m(r.throw(g))}catch(f){l(f)}},m=g=>g.done?b(g.value):Promise.resolve(g.value).then(B,p);m((r=r.apply(V,j)).next())});import{c as N,l as O,m as _,j as M,p as R,a as n,b as e,t as o,f as a,e as d,u as c,U as E,k as A,F as u,r as h,n as x,E as w,d as F,o as i,h as S,i as $,D as z}from"./index-CSQFqbOH.js";import{T as D,C as U}from"./trophy-BGv2Wb0Q.js";import{C as W}from"./clock-DBnEg0y0.js";import{T as k}from"./trending-up-Cc8W1dxD.js";import{C as L}from"./circle-check-big-3fmw2Xta.js";import{D as H}from"./download-B8ZvAled.js";import{E as J}from"./eye-DmDEiTcF.js";/**
 * @license lucide-vue-next v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=N("chart-pie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]),q={key:0,class:"min-h-screen bg-gray-50 flex items-center justify-center"},G={key:1,class:"min-h-screen bg-gray-50 pb-20"},K={class:"bg-white border-b border-gray-200"},Q={class:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-8"},X={class:"md:flex md:items-center md:justify-between"},Z={class:"min-w-0 flex-1"},I={class:"flex items-center gap-3 mb-2"},ee={class:"h-12 w-12 rounded-lg bg-indigo-600 flex items-center justify-center text-white text-xl font-bold"},te={class:"text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight"},se={class:"flex items-center gap-2 text-sm text-gray-500"},oe={class:"inline-flex items-center rounded-full bg-green-50 px-2 py-0.5 text-xs font-medium text-green-700 ring-1 ring-inset ring-green-600/20"},ie={class:"mt-4 flex md:ml-4 md:mt-0"},ne={class:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-8"},re={class:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4 mb-8"},le={class:"flex items-center justify-between"},ae={class:"truncate text-sm font-medium text-gray-500"},de={class:"mt-2 text-3xl font-semibold tracking-tight text-gray-900"},ce={class:"p-3 bg-gray-50 rounded-lg"},ge={class:"mt-4 flex items-center text-sm"},xe={class:"border-b border-gray-200 mb-8"},me={class:"-mb-px flex space-x-8","aria-label":"Tabs"},pe={key:0,class:"grid grid-cols-1 gap-8 lg:grid-cols-3"},ue={class:"lg:col-span-2 space-y-8"},he={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ye={class:"bg-white rounded-xl p-6 shadow-sm ring-1 ring-gray-900/5"},fe={class:"flex items-center gap-4"},ve={class:"h-10 w-10 rounded-full bg-green-50 flex items-center justify-center"},be={class:"bg-white rounded-xl shadow-sm ring-1 ring-gray-900/5"},_e={class:"flex items-center justify-between border-b border-gray-100 px-6 py-4"},we={class:"flex items-center gap-2"},ke={key:0,class:"p-6 text-center text-gray-500"},Ce={key:1,role:"list",class:"divide-y divide-gray-100"},je={class:"flex items-center justify-between gap-x-6"},Be={class:"min-w-0"},Te={class:"flex items-start gap-x-3"},Me={class:"text-sm font-semibold leading-6 text-gray-900"},Ae={class:"mt-1 flex items-center gap-x-2 text-xs leading-5 text-gray-500"},Se={class:"flex flex-none items-center gap-x-4"},$e={class:"space-y-8"},Ve={class:"bg-white rounded-xl p-6 shadow-sm ring-1 ring-gray-900/5"},Pe={class:"flex items-center gap-6"},De={class:"relative h-20 w-20 flex-shrink-0"},Ne={class:"h-full w-full -rotate-90 transform",viewBox:"0 0 36 36"},Oe=["stroke-dasharray"],Re={class:"bg-white rounded-xl shadow-sm ring-1 ring-gray-900/5"},Ee={class:"p-4 border-b border-gray-100"},Fe={class:"font-semibold text-gray-900 flex items-center gap-2"},ze={class:"p-4"},Ue={role:"list",class:"space-y-6"},We={key:0,class:"absolute left-0 top-0 flex w-6 justify-center -bottom-6"},Le={class:"flex-auto py-0.5"},He={class:"text-sm font-medium text-gray-900 leading-snug"},Je={class:"text-xs text-gray-500 mt-1"},Ye={key:1,class:"bg-white rounded-xl shadow-sm ring-1 ring-gray-900/5 p-6"},qe={class:"flex items-center justify-between mb-6"},Ge={class:"font-semibold text-gray-900 flex items-center gap-2"},Ke={class:"flex items-center text-sm font-medium text-gray-600 hover:text-gray-900 border border-gray-300 rounded-lg px-3 py-1.5 hover:bg-gray-50"},Qe={class:"overflow-x-auto"},Xe={class:"min-w-full divide-y divide-gray-200"},Ze={class:"divide-y divide-gray-100"},Ie={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-0"},et={class:"text-xs text-gray-400 mt-0.5"},tt={class:"whitespace-nowrap px-3 py-4 text-sm font-semibold text-gray-900"},st={class:"whitespace-nowrap px-3 py-4 text-sm text-gray-500"},ot={class:"whitespace-nowrap px-3 py-4 text-sm font-medium text-amber-500"},it={class:"whitespace-nowrap px-3 py-4 text-sm"},nt={class:"whitespace-nowrap px-3 py-4 text-sm"},rt={class:"text-gray-400 hover:text-indigo-600 flex items-center gap-1 transition-colors"},lt={key:2,class:"grid grid-cols-1 gap-8 lg:grid-cols-3"},at={class:"lg:col-span-2 space-y-8"},dt={class:"bg-white rounded-xl shadow-sm ring-1 ring-gray-900/5 p-6"},ct={class:"font-semibold text-gray-900 mb-6 flex items-center gap-2"},gt={class:"space-y-6"},xt={class:"flex justify-between text-sm mb-1"},mt={class:"font-medium text-gray-900"},pt={class:"text-gray-500"},ut={class:"w-full bg-gray-100 rounded-full h-2"},ht={class:"bg-white rounded-xl shadow-sm ring-1 ring-gray-900/5 p-6"},yt={class:"font-semibold text-gray-900 mb-6 flex items-center gap-2"},ft={class:"grid grid-cols-2 sm:grid-cols-4 gap-4"},vt={class:"text-sm font-medium text-gray-500 mb-1"},bt={class:"text-2xl font-bold text-gray-900 mb-1"},_t={class:"text-xs font-semibold text-green-600 flex items-center justify-center gap-0.5"},wt={class:"space-y-8"},kt={class:"bg-white rounded-xl p-6 shadow-sm ring-1 ring-gray-900/5"},Ct={class:"flex items-center gap-6"},jt={class:"relative h-20 w-20 flex-shrink-0"},Bt={class:"h-full w-full -rotate-90 transform",viewBox:"0 0 36 36"},Tt=["stroke-dasharray"],Mt={class:"bg-white rounded-xl shadow-sm ring-1 ring-gray-900/5"},At={class:"p-4 border-b border-gray-100"},St={class:"font-semibold text-gray-900 flex items-center gap-2"},$t={class:"p-4"},Vt={role:"list",class:"space-y-6"},Pt={key:0,class:"absolute left-0 top-0 flex w-6 justify-center -bottom-6"},Dt={class:"flex-auto py-0.5"},Nt={class:"text-sm font-medium text-gray-900 leading-snug"},Ot={class:"text-xs text-gray-500 mt-1"},C=85,Jt={__name:"Dashboard",setup(V){const j=O(),r=_("Overview"),b=_(!0),l=_({stats:{total_bids:0,orders_won:0,pending_review:0,win_rate:"0%"},recent_bids:[],supplier_name:"",user_name:""}),B=()=>T(this,null,function*(){try{const t=yield(yield fetch("/api/method/supplier_portal.api.get_dashboard_stats",{credentials:"include"})).json();t.message&&!t.message.error&&(l.value=t.message)}catch(y){console.error("Failed to fetch dashboard stats",y)}finally{b.value=!1}}),p=_([{name:"Total Bids",value:"0",icon:M,change:"-",changeType:"increase"},{name:"Orders Won",value:"0",icon:D,change:"-",changeType:"increase"},{name:"Pending Review",value:"0",icon:W,change:"-",changeType:"decrease"},{name:"Win Rate",value:"0%",icon:k,change:"-",changeType:"increase"}]);R(()=>T(this,null,function*(){if(!j.isAuthenticated){window.location.href="/login";return}yield B(),l.value.stats&&(p.value[0].value=l.value.stats.total_bids,p.value[1].value=l.value.stats.orders_won,p.value[2].value=l.value.stats.pending_review,p.value[3].value=l.value.stats.win_rate)}));const m=[{title:"Submitted bid for Steel Plates",time:"2 hours ago",icon:M,iconColor:"bg-blue-100 text-blue-600"}],g=[{name:"Raw Materials",won:2,total:5,percentage:40,color:"bg-purple-600"},{name:"Machinery",won:1,total:3,percentage:33,color:"bg-indigo-600"},{name:"Consumables",won:2,total:4,percentage:50,color:"bg-blue-600"},{name:"Electrical",won:1,total:2,percentage:50,color:"bg-violet-600"}],f=[{month:"Jan",count:2,growth:"+10%"},{month:"Feb",count:3,growth:"+15%"},{month:"Mar",count:4,growth:"+20%"},{month:"Apr",count:5,growth:"+25%"}];return(y,t)=>{var P;return b.value?(i(),n("div",q,[...t[6]||(t[6]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"},null,-1)])])):(i(),n("div",G,[e("div",K,[e("div",Q,[e("div",X,[e("div",Z,[e("div",I,[e("div",ee,o(((P=l.value.user_name)==null?void 0:P.charAt(0))||"U"),1),e("div",null,[e("h2",te," Welcome back! "+o(l.value.user_name),1),e("div",se,[a(o(l.value.supplier_name||"Fetching Company...")+" ",1),e("span",oe,[d(c(L),{class:"mr-1 h-3 w-3"}),t[7]||(t[7]=a(" Verified ",-1))])])])]),t[8]||(t[8]=e("p",{class:"mt-1 text-sm text-gray-500"},"Track your bids and performance metrics.",-1))]),e("div",ie,[e("button",{type:"button",class:"inline-flex items-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50",onClick:t[0]||(t[0]=s=>y.$router.push("/profile"))},[d(c(E),{class:"-ml-0.5 mr-1.5 h-5 w-5 text-gray-400","aria-hidden":"true"}),t[9]||(t[9]=a(" Profile ",-1))]),e("button",{type:"button",class:"ml-3 inline-flex items-center rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-700 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",onClick:t[1]||(t[1]=s=>y.$router.push("/tenders"))}," Browse Tenders ")])])])]),e("div",ne,[e("div",re,[(i(!0),n(u,null,h(p.value,s=>(i(),n("div",{key:s.name,class:"overflow-hidden rounded-xl bg-white p-6 shadow-sm ring-1 ring-gray-900/5 transition-all hover:shadow-md"},[e("div",le,[e("div",null,[e("dt",ae,o(s.name),1),e("dd",de,o(s.value),1)]),e("div",ce,[(i(),S($(s.icon),{class:"h-6 w-6 text-indigo-600"}))])]),e("div",ge,[e("span",{class:x([s.changeType==="increase"?"text-green-600":"text-red-600","font-medium flex items-center"])},o(s.changeType==="increase"?"↑":"↓")+" "+o(s.change),3),t[10]||(t[10]=e("span",{class:"ml-2 text-gray-400"},"vs last month",-1))])]))),128))]),e("div",xe,[e("nav",me,[e("a",{href:"#",onClick:t[2]||(t[2]=w(s=>r.value="Overview",["prevent"])),class:x([r.value==="Overview"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700","whitespace-nowrap border-b-2 py-4 px-1 text-sm font-medium"]),"aria-current":"page"},"Overview",2),e("a",{href:"#",onClick:t[3]||(t[3]=w(s=>r.value="My Bids",["prevent"])),class:x([r.value==="My Bids"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700","whitespace-nowrap border-b-2 py-4 px-1 text-sm font-medium"])},"My Bids",2),e("a",{href:"#",onClick:t[4]||(t[4]=w(s=>r.value="Analytics",["prevent"])),class:x([r.value==="Analytics"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700","whitespace-nowrap border-b-2 py-4 px-1 text-sm font-medium"])},"Analytics",2)])]),r.value==="Overview"?(i(),n("div",pe,[e("div",ue,[e("div",he,[t[12]||(t[12]=F('<div class="bg-white rounded-xl p-6 shadow-sm ring-1 ring-gray-900/5"><div class="flex items-center gap-4"><div class="h-10 w-10 rounded-full bg-blue-50 flex items-center justify-center"><span class="text-blue-600 font-bold">₹</span></div><div><p class="text-sm font-medium text-gray-500">Total Bid Value</p><p class="text-xl font-bold text-gray-900">₹0</p></div></div></div>',1)),e("div",ye,[e("div",fe,[e("div",ve,[d(c(D),{class:"h-5 w-5 text-green-600"})]),t[11]||(t[11]=e("div",null,[e("p",{class:"text-sm font-medium text-gray-500"},"Orders Won Value"),e("p",{class:"text-xl font-bold text-gray-900"},"₹0")],-1))])])]),e("div",be,[e("div",_e,[e("div",we,[d(c(M),{class:"h-5 w-5 text-indigo-600"}),t[13]||(t[13]=e("h3",{class:"font-semibold text-gray-900"},"Recent Bids",-1))]),e("a",{href:"#",onClick:t[5]||(t[5]=w(s=>r.value="My Bids",["prevent"])),class:"text-sm font-semibold text-indigo-600 hover:text-indigo-500 flex items-center"},[...t[14]||(t[14]=[a(" View All ",-1),e("span",{"aria-hidden":"true",class:"ml-1"},"→",-1)])])]),l.value.recent_bids.length===0?(i(),n("div",ke," No recent bids found. ")):(i(),n("ul",Ce,[(i(!0),n(u,null,h(l.value.recent_bids,s=>(i(),n("li",{key:s.id,class:"px-6 py-4 hover:bg-gray-50 transition-colors"},[e("div",je,[e("div",Be,[e("div",Te,[e("p",Me,o(s.title),1)]),e("div",Ae,[e("p",null,o(s.amount),1),t[15]||(t[15]=e("svg",{viewBox:"0 0 2 2",class:"h-0.5 w-0.5 fill-current"},[e("circle",{cx:"1",cy:"1",r:"1"})],-1)),e("p",null,o(s.date),1)])]),e("div",Se,[e("span",{class:x([s.statusColor,"inline-flex items-center rounded-md px-2 py-1 text-xs font-medium ring-1 ring-inset ring-gray-500/10"])},o(s.status),3)])])]))),128))]))])]),e("div",$e,[e("div",Ve,[t[18]||(t[18]=e("h3",{class:"font-semibold text-gray-900 mb-4"},"Profile Strength",-1)),e("div",Pe,[e("div",De,[(i(),n("svg",Ne,[t[16]||(t[16]=e("path",{class:"text-gray-100",d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"currentColor","stroke-width":"4"},null,-1)),e("path",{class:"text-indigo-600","stroke-dasharray":`${C}, 100`,d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"currentColor","stroke-width":"4","stroke-linecap":"round"},null,8,Oe)])),e("div",{class:"absolute inset-0 flex items-center justify-center flex-col"},[e("span",{class:"text-sm font-bold text-gray-900"},o(C)+"%")])]),t[17]||(t[17]=e("div",null,[e("p",{class:"text-sm text-gray-600 mb-2"},"Complete your profile to increase visibility"),e("a",{href:"#",class:"text-sm font-semibold text-indigo-600 hover:text-indigo-500"},"Complete Now →")],-1))])]),e("div",Re,[e("div",Ee,[e("h3",Fe,[d(c(k),{class:"h-4 w-4 text-gray-400"}),t[19]||(t[19]=a(" Recent Activity ",-1))])]),e("div",ze,[e("ul",Ue,[(i(),n(u,null,h(m,(s,v)=>e("li",{key:v,class:"relative flex gap-x-4"},[v!==m.length-1?(i(),n("div",We,[...t[20]||(t[20]=[e("div",{class:"w-px bg-gray-200"},null,-1)])])):A("",!0),e("div",{class:x([s.iconColor,"relative flex h-8 w-8 flex-none items-center justify-center rounded-lg bg-gray-50"])},[(i(),S($(s.icon),{class:"h-4 w-4","aria-hidden":"true"}))],2),e("div",Le,[e("p",He,o(s.title),1),e("p",Je,o(s.time),1)])])),64))])])])])])):r.value==="My Bids"?(i(),n("div",Ye,[e("div",qe,[e("h3",Ge,[d(c(k),{class:"h-5 w-5 text-indigo-600"}),t[21]||(t[21]=a(" Complete Bid History ",-1))]),e("button",Ke,[d(c(H),{class:"h-4 w-4 mr-2"}),t[22]||(t[22]=a(" Export ",-1))])]),e("div",Qe,[e("table",Xe,[t[24]||(t[24]=e("thead",null,[e("tr",null,[e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left text-xs font-semibold text-gray-500 sm:pl-0"},"Tender"),e("th",{scope:"col",class:"px-3 py-3.5 text-left text-xs font-semibold text-gray-500"},"Your Bid"),e("th",{scope:"col",class:"px-3 py-3.5 text-left text-xs font-semibold text-gray-500"},"Submitted"),e("th",{scope:"col",class:"px-3 py-3.5 text-left text-xs font-semibold text-gray-500"},"Rank"),e("th",{scope:"col",class:"px-3 py-3.5 text-left text-xs font-semibold text-gray-500"},"Status"),e("th",{scope:"col",class:"px-3 py-3.5 text-left text-xs font-semibold text-gray-500"},"Action")])],-1)),e("tbody",Ze,[(i(!0),n(u,null,h(y.bidHistory,s=>(i(),n("tr",{key:s.id,class:"hover:bg-gray-50 transition-colors"},[e("td",Ie,[e("div",null,o(s.title),1),e("div",et,o(s.id),1)]),e("td",tt,o(s.amount),1),e("td",st,o(s.submitted),1),e("td",ot,o(s.rank),1),e("td",it,[e("span",{class:x([s.statusColor,"inline-flex items-center rounded-md px-2 py-1 text-xs font-medium ring-1 ring-inset ring-gray-500/10"])},o(s.status),3)]),e("td",nt,[e("button",rt,[d(c(J),{class:"h-4 w-4"}),t[23]||(t[23]=a(" View ",-1))])])]))),128))])])])])):r.value==="Analytics"?(i(),n("div",lt,[e("div",at,[e("div",dt,[e("h3",ct,[d(c(Y),{class:"h-5 w-5 text-indigo-600"}),t[25]||(t[25]=a(" Performance by Category ",-1))]),e("div",gt,[(i(),n(u,null,h(g,s=>e("div",{key:s.name},[e("div",xt,[e("span",mt,o(s.name),1),e("span",pt,o(s.won)+"/"+o(s.total)+" won ("+o(s.percentage)+"%)",1)]),e("div",ut,[e("div",{class:x(["h-2 rounded-full transition-all duration-500",s.color]),style:z({width:`${s.percentage}%`})},null,6)])])),64))])]),e("div",ht,[e("h3",yt,[d(c(U),{class:"h-5 w-5 text-indigo-600"}),t[26]||(t[26]=a(" Monthly Performance ",-1))]),e("div",ft,[(i(),n(u,null,h(f,s=>e("div",{key:s.month,class:"bg-gray-50 rounded-lg p-4 text-center"},[e("div",vt,o(s.month),1),e("div",bt,o(s.count),1),e("div",_t,[t[27]||(t[27]=e("span",null,"↑",-1)),a(" "+o(s.growth),1)])])),64))])])]),e("div",wt,[e("div",kt,[t[30]||(t[30]=e("h3",{class:"font-semibold text-gray-900 mb-4"},"Profile Strength",-1)),e("div",Ct,[e("div",jt,[(i(),n("svg",Bt,[t[28]||(t[28]=e("path",{class:"text-gray-100",d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"currentColor","stroke-width":"4"},null,-1)),e("path",{class:"text-indigo-600","stroke-dasharray":`${C}, 100`,d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"currentColor","stroke-width":"4","stroke-linecap":"round"},null,8,Tt)])),e("div",{class:"absolute inset-0 flex items-center justify-center flex-col"},[e("span",{class:"text-sm font-bold text-gray-900"},o(C)+"%")])]),t[29]||(t[29]=e("div",null,[e("p",{class:"text-sm text-gray-600 mb-2"},"Complete your profile to increase visibility"),e("a",{href:"#",class:"text-sm font-semibold text-indigo-600 hover:text-indigo-500"},"Complete Now →")],-1))])]),e("div",Mt,[e("div",At,[e("h3",St,[d(c(k),{class:"h-4 w-4 text-gray-400"}),t[31]||(t[31]=a(" Recent Activity ",-1))])]),e("div",$t,[e("ul",Vt,[(i(),n(u,null,h(m,(s,v)=>e("li",{key:v,class:"relative flex gap-x-4"},[v!==m.length-1?(i(),n("div",Pt,[...t[32]||(t[32]=[e("div",{class:"w-px bg-gray-200"},null,-1)])])):A("",!0),e("div",{class:x([s.iconColor,"relative flex h-8 w-8 flex-none items-center justify-center rounded-lg bg-gray-50"])},[(i(),S($(s.icon),{class:"h-4 w-4","aria-hidden":"true"}))],2),e("div",Dt,[e("p",Nt,o(s.title),1),e("p",Ot,o(s.time),1)])])),64))])])])])])):A("",!0)])]))}}};export{Jt as default};
//# sourceMappingURL=Dashboard-D0chAs1G.js.map
